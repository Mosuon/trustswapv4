(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{12683:function(e,t){"use strict";t.Z={src:"/_next/static/media/loader_wallet.f7553063.svg",height:30,width:30}},98448:function(e,t){"use strict";t.Z={src:"/_next/static/media/loader_white.cc701072.svg",height:24,width:24}},70687:function(e,t){"use strict";t.Z={src:"/_next/static/media/not_verified.ba7e7e9e.svg",height:25,width:25}},153:function(e,t){"use strict";t.Z={src:"/_next/static/media/placeholder_smile.a0246c80.svg",height:120,width:120}},1333:function(e,t){"use strict";t.Z={src:"/_next/static/media/smile_favourites.603eeae6.svg",height:24,width:24}},98353:function(e,t){"use strict";t.Z={src:"/_next/static/media/smile_nfts_gray.b70dd16b.svg",height:72,width:72}},25900:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var n=s(8014),r="/_next/static/media/verified.f4b22063.svg",a=s(70687),l="/_next/static/media/blacklist.860861bb.svg",i=s(44105),c=s(98353);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){o(e,t,s[t])}))}return e}var u=function(e){var t=e.src,s=e.statusVerification,o=e.className,u=void 0===o?"":o,x=e.badgeClassName,m=void 0===x?"":x,p=e.style;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"rounded-full relative ".concat(u),style:d({backgroundImage:"url(".concat((0,i.i)(t||c.Z.src),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"},p),children:"undefined"!==typeof s&&null!=s&&s>=0&&(0,n.jsx)("img",{className:"absolute -bottom-[1px] -right-[3px] ".concat(m," ").concat("undefined"===typeof s?"hidden":""),src:1===s?r:0===s?a.Z.src:l})})})}},53957:function(e,t,s){"use strict";var n=s(8014),r=s(56168),a=s(3621),l=s(77832),i=s.n(l);function c(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}t.Z=function(e){var t=e.modalTitle,s=e.modalDescription,l=e.action,o=e.actionClose,d=e.buttonsText,u=e.isOpen,x=void 0!==u&&u,m=e.closeOnAction,p=void 0===m||m,f=(0,r.useState)(x),h=f[0],g=f[1];return(0,n.jsx)(n.Fragment,{children:h&&(0,n.jsx)("div",{className:"".concat(i().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),children:(0,n.jsxs)("div",{className:"".concat(i().actionModal," fixed flex flex-col w-full bg-primary-blue z-[20000] rounded-t-[32px] py-[40px] px-[16px] w-full h-[304px] text-center lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),children:[(0,n.jsxs)("div",{className:"mb-[40px] text-primary-white",children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold",children:t}),(0,n.jsx)("p",{className:"rubik text-base font-light",children:s})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row-reverse lg:justify-between",children:[(0,n.jsx)(a.Z,{text:d[0],type:{class:"primary",icon:!1,hasColoredBg:!0},size:"large",initialState:{state:"default"},className:"mb-[16px] lg:mb-[auto]",onClick:function(e){c(l,Function)&&l(e,g),p&&g(!1)}}),(0,n.jsx)(a.Z,{text:d[1],type:{class:"secondary",icon:!1,hasColoredBg:!0},size:"large",initialState:{state:"default"},onClick:function(){c(o,Function)&&o(),g(!1)}})]})]})})})}},48875:function(e,t,s){"use strict";s.d(t,{Z:function(){return ks}});var n=s(8014),r=s(56168),a=s(27171),l=s(97968),i=s(53957),c="/_next/static/media/chevron_down_white.9cf40c52.svg",o="/_next/static/media/chevron_left.a1ae6c89.svg",d=s(27164),u=s(3621),x="/_next/static/media/chevron_up.2a67ef90.svg",m=s(27536),p=s(62044),f=function(e){var t=e.stepDescription,s=e.isClickable,r=void 0!==s&&s,a=e.isCurrent,l=void 0!==a&&a,i=e.isCompleted,c=void 0!==i&&i,o=e.index,d=e.onClick,u=e.className,x=(0,p.Z)("common").t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"".concat(l?"text-primary-dark-blue":""," ").concat(l||c?"":"text-primary-gray"," ").concat(c&&!l?"text-primary-blue":""," text-xl font-semibold mr-[18px]"),children:"0".concat(o+1)}),(0,n.jsx)("span",{className:"text-base font-semibold ".concat(l?"text-primary-dark-blue":""," ").concat(r?"cursor-pointer":""," ").concat(c&&!l?"text-primary-blue":""," ").concat(l||c?"":"text-primary-gray"," ").concat(u||""),onClick:d,children:t})]}),c&&!l&&(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-xxs text-primary-blue mr-[8px]",children:x("completeLabel")}),(0,n.jsx)("img",{src:m.Z.src,className:"w-[16px] h-[16px]"})]})]})},h=s(1259),g=s.n(h),b=function(e){var t=e.stepperItems,s=(0,p.Z)("common").t,c=(0,l.C)((function(e){return e})).trademodal,o=(0,l.T)(),d=c.currentStepMenu,m=c.isStepperMenuListOpen,h=c.isDeleteTradeModalOpen,b=function(){o((0,a.tj)(!1))};return(0,r.useEffect)((function(){if(m){var e=function(){window.innerWidth>1023&&b()};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[m]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"".concat(g().stepperMenuList," fixed w-full h-full overflow-y-scroll z-10 bg-primary-white px-[16px]"),children:[(0,n.jsxs)("div",{className:"".concat(g().mainContent),children:[(0,n.jsx)("div",{className:"flex items-center w-full h-[72px]",children:(0,n.jsx)("div",{className:"flex items-center justify-center rounded-full bg-primary-blue w-[40px] h-[40px] cursor-pointer hover:bg-primary-dark-blue",onClick:b,children:(0,n.jsx)("img",{src:x,className:"w-[16px] h-[16px]"})})}),(0,n.jsxs)("div",{className:"w-full mt-[30px]",children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold text-primary-blue",children:s("completeStepLabel")}),(0,n.jsx)("nav",{className:"mt-[55px]",children:(0,n.jsx)("ul",{children:t.map((function(e,t){return(0,n.jsx)("li",{className:"flex items-center cursor-pointer mb-[32px]",children:(0,n.jsx)("div",{onClick:function(s){t<=d&&d!==t&&(!function(e){0===e?(o((0,a.Bu)(null)),o((0,a.bW)()),o((0,a.C$)()),o((0,a.MW)(!1)),o((0,a.eF)(7)),o((0,a.y4)(0)),o((0,a.YM)(0)),o((0,a.$J)(0)),o((0,a.P$)(!1))):1===e?(o((0,a.C$)()),o((0,a.eF)(7)),o((0,a.y4)(0)),o((0,a.YM)(0)),o((0,a.$J)(0)),o((0,a.P$)(!1))):2===e&&(o((0,a.eF)(7)),o((0,a.y4)(0)),o((0,a.YM)(0)),o((0,a.$J)(0)),o((0,a.P$)(!1)),o((0,a.KC)()))}(t),o((0,a.Um)(t)),e.onClick(s))},className:"flex justify-between w-full",children:(0,n.jsx)(f,{index:t,stepDescription:e.stepDescription,isClickable:t<=d,isCurrent:d===t,isCompleted:t<=d},t)})},t)}))})})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:s("cancelTradeLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},className:"relative bottom-[30px]",onClick:function(){o((0,a.xI)(!0))}})})]}),h&&(0,n.jsx)(i.Z,{modalTitle:s("cancelTradeLabel"),modalDescription:s("This will cancel all your current choices"),action:function(){document.body.classList.remove("no-scroll"),o((0,a.r$)(!1)),o((0,a.jO)()),o((0,a.eV)(null)),o((0,a.vg)(null)),o((0,a.xI)(!1))},actionClose:function(){o((0,a.xI)(!1))},buttonsText:[s("yesCancelItLabel"),s("dismissLabel")],isOpen:!0})]})},y=function(e){var t=e.isClickable,s=void 0!==t&&t,r=e.isCurrent,a=void 0!==r&&r,l=e.onClick,i=e.className;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"w-[24px] h-[4px] md:w-[36px] ".concat(s?"bg-primary-white cursor-pointer ".concat(!a&&"hover:shadow hover:shadow-sm hover:shadow-primary-white"):"bg-primary-gray opacity-80"," ").concat(a?"cursor-default":""," ").concat(i||""),onClick:function(e){s&&!a&&l&&l(e)}})})},j=function(e){var t=e.stepperItems,s=(0,l.C)((function(e){return e})).trademodal,r=(0,l.T)(),i=s.currentStepMenu,c=s.isApproving;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex items-center justify-center mr-[24px]",children:t.map((function(e,t){return(0,n.jsx)(y,{isClickable:t<=i,isCurrent:i===t,onClick:function(s){c||(!function(e){0===e?(r((0,a.Bu)(null)),r((0,a.bW)()),r((0,a.C$)()),r((0,a.MW)(!1)),r((0,a.eF)(7)),r((0,a.y4)(0)),r((0,a.YM)(0)),r((0,a.$J)(0)),r((0,a.P$)(!1))):1===e?(r((0,a.C$)()),r((0,a.eF)(7)),r((0,a.y4)(0)),r((0,a.YM)(0)),r((0,a.$J)(0)),r((0,a.P$)(!1))):2===e&&(r((0,a.eF)(7)),r((0,a.y4)(0)),r((0,a.YM)(0)),r((0,a.$J)(0)),r((0,a.P$)(!1)),r((0,a.KC)()))}(t),r((0,a.Um)(t)),e.onClick(s))},className:"".concat(t>0?"mx-[4px]":"mr-[4px]")},t)}))}),(0,n.jsxs)("div",{className:"hidden items-center lg:flex text-primary-white text-base font-semibold",children:[(0,n.jsx)("span",{className:"text-xl font-semibold mr-[16px]",children:"0".concat(i+1)})," ",(0,n.jsx)("span",{children:t[i].stepDescription})]})]})})},v=s(5995),N=s.n(v),w=s(36226),k=s(5996),C=s(24789),S=s(95479),_=s(63780),E=s.n(_),L=s(12683),T=s(41708),F=s(14647),M=function(e,t){return e.findIndex((function(e){return 0===e.collection.statusVerification}))>-1||t.findIndex((function(e){return 0===e.collection.statusVerification}))>-1},I=function(e){var t=e.stepperItems,s=e.mode,i=void 0===s?null:s,x=(0,p.Z)("common").t,m=(0,r.useRef)(!1),f=(0,r.useState)(!1),h=f[0],g=f[1],y=(0,r.useState)(!1),v=y[0],_=y[1],I=(0,r.useState)(!1),A=I[0],R=I[1],O=(0,r.useState)(!1),z=O[0],U=O[1],Z=(0,l.C)((function(e){return e})),B=Z.trademodal,P=Z.waccount,D=(0,l.T)(),H=B.isStepperMenuListOpen,V=B.isDeleteTradeModalOpen,W=B.canProceed,Y=B.currentStepMenu,G=B.assetsCurrentlyApproved,J=B.assetsToApprove,K=B.assetsAttemptsToApprove,$=B.who,q=B.maker,Q=B.taker,X=(B.mode,B.replaceCollectorAddress),ee=B.swapId,te=P.currentNetworkId,se=P.account,ne=(0,C.Ge)().library,re=function(){D((0,a.tj)(!0))},ae=function(){D((0,a._1)(!0))},le=function(){D((0,a._1)(!1))},ie=function(e,t){if(te){var s=new(E())({ethers:w,web3Provider:ne,network:(0,S.qe)(te).toUpperCase()});s.on("cancelSwapTransactionCreated",(function(){e("loading")})),s.on("cancelSwapTransactionMined",(function(){e("default"),document.body.classList.remove("no-scroll"),D((0,a.r$)(!1)),D((0,a.jO)()),D((0,a.eV)(null)),D((0,a.vg)(null))})),s.on("cancelSwapTransactionError",(function(){e("default")})),s.cancelSwap(t)}},ce=function(e){if(!(K<J)&&q&&q.assets&&Q&&Q.assets&&te){ae();var t=new(E())({ethers:w,web3Provider:ne,network:(0,S.qe)(te).toUpperCase()}).getNetworksAvailable()[(0,S.qe)(te).toUpperCase()],s=[],n=("maker"===e?q:Q).assets;D((0,a.YM)(n.filter((function(e){return e.isApproved})).length)),D((0,a.P$)(!0)),n.filter((function(e){return!1===e.isApproved})).forEach((function(e){if(-1===s.indexOf(e.collection.address.toLowerCase())){s.push(e.collection.address.toLowerCase());var n=new k.CH(e.collection.address,e.collection.abi,ne);n=n.connect(ne.getSigner(se)),"ERC721"===e.type||"ERC1155"===e.type?n.setApprovalForAll(t,!0).then((function(t){t.wait().then((function(t){D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!0}))})).catch((function(t){console.log("[wait tx error]"),console.error(t),D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!1})),le()}))})).catch((function(t){console.log("[setApprovalForAll tx error]"),console.error(t),D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!1})),le()})):n.approve(t,e.amount).then((function(t){t.wait().then((function(){D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!0}))})).catch((function(t){console.log("[wait tx error]"),console.error(t),D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!1})),le()}))})).catch((function(t){console.log("[approve tx error]"),console.error(t),D((0,a.cP)({id:void 0,contractAddress:e.collection.address,type:e.type,approved:!1})),le()}))}}))}};return(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]),(0,r.useEffect)((function(){if(!H||V){var e=function(){window.innerWidth<1024&&V&&re()};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[H,V]),(0,r.useEffect)((function(){3===Y&&(G===J?m.current&&_(!0):m.current&&_(!1),K===J&&(m.current&&g(!1),D((0,a.P$)(!1))))}),[G,Y,J,K]),(0,r.useEffect)((function(){Y<3&&D((0,a.Gu)())}),[Y]),(0,r.useEffect)((function(){X&&"string"===typeof X&&X.length>0&&m.current&&R(!0)}),[X]),(0,r.useEffect)((function(){"number"===typeof ee&&m.current&&U(!0)}),[ee]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"".concat(N().stepperMenu," flex justify-between items-center flex-w-full h-[72px] bg-primary-blue rounded-b-[40px] px-[16px] lg:h-[88px]"),children:Y<=3?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center w-[40px] h-[40px] mr-[10px]",children:["maker"===$&&(0,n.jsx)("img",{src:c,className:"w-[16px] h-[16px] cursor-pointer lg:hidden",onClick:re}),(0,n.jsx)("img",{src:d.Z.src,className:"w-[26px] h-[26px] cursor-pointer ".concat("maker"===$?"hidden lg:block":""),onClick:function(){D((0,a.xI)(!0))}})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center",children:["maker"===$&&t&&null===i&&(0,n.jsx)(j,{stepperItems:t}),"maker"===$&&"VIEW_MAKER"===i&&(0,n.jsx)("h3",{className:"text-lg ml-[40px] text-primary-white font-semibold lg:text-xl",children:x("checkYourAssetsLabel")}),"taker"===$&&(0,n.jsx)("h3",{className:"text-lg ml-[40px] text-primary-white font-semibold lg:text-xl",children:x("doYouAcceptThisTradeLabel")}),"EDIT_TAKER"===i&&(0,n.jsx)("h3",{className:"text-lg ml-[40px] text-primary-white font-semibold lg:text-xl",children:x("changeCounterpartyTraderLabel")})]})]}),(0,n.jsx)("div",{className:"flex items-center",children:null===i?(0,n.jsxs)(n.Fragment,{children:[2===Y&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{text:x("buyCryptoLabel"),initialState:{state:"default"},type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",className:"lg:px-8 lg:py-4 mr-[15px] hidden sm:block",onClick:function(){D((0,F.gj)(!0))}})}),Y<3?(0,n.jsx)(n.Fragment,{children:!0===W?(0,n.jsx)(u.Z,{text:x("proceedLabel"),type:{class:"primary",hasColoredBg:!0,icon:!0},size:"small",onClick:function(){D((0,a.Um)(Y+1)),D((0,a.MW)(!1))},initialState:{state:"default"},iconSrc:o,className:"lg:px-8 lg:py-4"}):(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:x("proceedLabel"),type:{class:"primary",hasColoredBg:!0,icon:!0},size:"small",initialState:{state:"disabled"},iconSrc:o,className:"lg:px-8 lg:py-4"})})}):(0,n.jsx)(n.Fragment,{children:v?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:x("confirmLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",onClick:function(){if(le(),(null===q||void 0===q?void 0:q.assets)&&(null===Q||void 0===Q?void 0:Q.assets)){var e=M(q.assets,Q.assets);D(e?(0,a.AW)(!0):(0,a.Um)(Y+1))}},initialState:{state:"default"},className:"lg:px-8 lg:py-4"})})}):(0,n.jsx)(n.Fragment,{children:h?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("span",{children:x("approvingLabel")}),(0,n.jsx)("img",{src:L.Z.src,className:"".concat(N().rotating," w-[16px] h-[16px] ml-[9px]")})]}),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",onClick:function(){ae()},initialState:{state:"default"},className:"lg:px-8 lg:py-4"})})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{text:x("approveLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",onClick:function(){"maker"===$?(g(!0),ce("maker")):"taker"===$&&(g(!0),ce("taker"))},initialState:{state:"default"},className:"lg:px-8 lg:py-4"})})})})]}):(0,n.jsxs)(n.Fragment,{children:["EDIT_TAKER"===i&&(0,n.jsx)(n.Fragment,{children:A?(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:x("replaceLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",onClick:function(e){e("disabled"),function(e){if(te){var t=new(E())({ethers:w,web3Provider:ne,network:(0,S.qe)(te).toUpperCase()});t.on("editTakerTransactionCreated",(function(){m.current&&e("loading")})),t.on("editTakerTransactionMined",(function(){m.current&&e("default"),D((0,a.Ky)("TAKER_UPDATED"))})),t.on("editTakerTransactionError",(function(){m.current&&e("default")})),t.editTaker(ee,X)}}(e)},initialState:{state:"default"},className:"lg:px-8 lg:py-4"})}):(0,n.jsx)(u.Z,{text:x("replaceLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",initialState:{state:"disabled"},className:"lg:px-8 lg:py-4"})}),"VIEW_MAKER"===i&&(0,n.jsx)(n.Fragment,{children:z?(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:x("cancelDealLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",onClick:function(e){ee&&(e("disabled"),ie(e,ee))},initialState:{state:"default"},className:"lg:px-8 lg:py-4"})}):(0,n.jsx)(u.Z,{text:x("cancelDealLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"small",initialState:{state:"disabled"},className:"lg:px-8 lg:py-4"})})]})})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("img",{src:T.Z.src,className:"w-[170px] h-[auto] lg:w-[187px]"})})})}),H&&t&&(0,n.jsx)(b,{stepperItems:t})]})},A=s(79838),R=s(66599),O=s.n(R),z=s(72273);var U=function(e){var t=e.isOpen,s=e.children,a=e.actionClose,l=(0,r.useState)(t),i=l[0],c=l[1];return(0,n.jsx)(n.Fragment,{children:i&&(0,n.jsxs)("section",{id:"scrollable-modal",className:"".concat(O().mobileModal," fixed left-0 w-full h-full bg-primary-white px-[16px] py-[24px] z-[20] overflow-y-scroll lg:hidden"),children:[(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)("img",{src:z.Z.src,className:"w-[32px] h-[32px] cursor-pointer",onClick:function(){var e,t;c(!1),e=a,(null!=(t=Function)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)&&a()}})}),(0,n.jsx)("div",{className:"mt-[40px]",children:s})]})})},Z=s(1333),B="/_next/static/media/smile_sad.b477c751.svg",P="/_next/static/media/selected.26e5aed0.svg",D="/_next/static/media/default.03e06f08.svg",H="/_next/static/media/selected_hover.be6fee38.svg",V="/_next/static/media/default_hover.0dfd2284.svg",W=s(42662),Y=s(29562),G=s(78561),J=s.n(G),K=s(10327),$=s(4632),q=s(34543),Q=s(31672),X=s(65588),ee=s(64607),te=function(e){var t=e.isModalOpen,s=e.actionClose,i=(0,p.Z)("common").t,c=(0,r.useRef)(!1),o=(0,r.useState)([]),d=o[0],u=o[1],x=(0,r.useState)([]),m=x[0],f=x[1],h=(0,r.useState)(0),g=h[0],b=h[1],y=(0,r.useState)(10),j=y[0],v=(y[1],(0,r.useState)(!1)),N=v[0],w=v[1],k=(0,r.useState)(0),C=k[0],S=k[1],_=(0,r.useState)([]),E=_[0],L=_[1],T=(0,r.useState)([]),F=T[0],M=T[1],I=(0,r.useState)([]),A=I[0],R=I[1],O=(0,r.useState)([]),z=O[0],G=O[1],te=(0,r.useState)(!1),se=te[0],ne=te[1],re=(0,r.useState)(!1),ae=re[0],le=re[1],ie=(0,l.C)((function(e){return e})),ce=ie.trademodal,oe=ie.waccount,de=(0,l.T)(),ue=ce.currentStepMenu,xe=ce.mode,me=oe.currentNetworkId,pe=oe.account,fe=oe.jwtToken,he=function(e){if(e&&"response"in e&&"undefined"!==typeof e.response){var t=e.response.status;401===t?(de((0,a.jO)()),de((0,a.r$)(!1)),de((0,Q.up)(!0)),de((0,Q.kt)()),(0,X.uM)({account:null,isConnected:!1,currentNetworkId:null,currentNetworkName:null,nonce:null,username:null,email:null,firstLogin:null,createdAt:null,updatedAt:null,jwtToken:null,walletProviderName:null,walletProviderIconURL:null,avatarUrl:null,isNFT:0,isVerified:0,sessionExpired:!1})):500===t&&(console.log("backend error.."),console.error(e))}else console.error(e)},ge=function(e,t){F.indexOf(e.address)>-1||me&&fe&&(c.current&&M(F.concat([e.address])),(0,K.U3)((0,$.f)("deleteFavouriteUser"),{networkId:me.toString(),userFavourite:e.address},fe).then((function(s){var n=JSON.parse(JSON.stringify(F));n=n.splice(n.indexOf(e.address),1),c.current&&M(n);var r=t?JSON.parse(JSON.stringify(A)):JSON.parse(JSON.stringify(z));r[r.findIndex((function(t){return t.id.toLowerCase()===e.address.toLowerCase()}))].selected=!1,c.current&&(t?R(r):G(r))})).catch((function(t){var s=JSON.parse(JSON.stringify(F));s=s.splice(s.indexOf(e.address),1),c.current&&M(s),he(t)})))},be=function(e,t){E.indexOf(e.address)>-1||me&&fe&&(c.current&&L(E.concat([e.address])),(0,K.jl)((0,$.f)("addFavouriteUser"),{networkId:me.toString(),userFavourite:e.address},fe).then((function(s){var n=JSON.parse(JSON.stringify(E));n=n.splice(n.indexOf(e.address),1),c.current&&L(n);var r=t?JSON.parse(JSON.stringify(A)):JSON.parse(JSON.stringify(z));r[r.findIndex((function(t){return t.id.toLowerCase()===e.address.toLowerCase()}))].selected=!0,c.current&&(t?R(r):G(r))})).catch((function(t){var s=JSON.parse(JSON.stringify(E));s=s.splice(s.indexOf(e.address),1),c.current&&L(s),he(t)})))},ye=function(e,t){var s=t.find((function(t){return t.id.toLowerCase()===e.toLowerCase()}));return!!s&&s.selected},je=function(){var e=[];c.current&&ne(!0),me&&pe&&(e=[me.toString(),g.toString(),j.toString()]),fe?(0,K.Vd)((0,$.f)("getFavouriteUsers",e),fe).then((function(e){var t=e.data[0],s=t.count,n=t.rows,r=new Array;n.forEach((function(e){r.push({id:e.address,selected:!0})})),c.current&&S(s),0===d.length?c.current&&(u(n),R(r)):c.current&&(u(d.concat(n)),R(A.concat(r))),c.current&&ne(!1)})).catch((function(e){he(e),c.current&&ne(!1)})):c.current&&ne(!1)};return(0,r.useEffect)((function(){return c.current=!0,function(){c.current=!1}}),[]),(0,r.useEffect)((function(){C>d.length?c.current&&(b(g+10),w(!0)):c.current&&w(!1)}),[d]),(0,r.useEffect)((function(){je(),function(){var e=[];c.current&&le(!0),me&&(e=[me.toString()]),fe?(0,K.Vd)((0,$.f)("getPastCollectors",e),fe).then((function(e){var t=e.data,s=new Array;t.forEach((function(e){s.push({id:e.address,selected:!1})})),0===m.length?c.current&&(f(t),G(s)):c.current&&(f(m.concat(t)),G(z.concat(s))),c.current&&le(!1)})).catch((function(e){he(e),c.current&&le(!1)})):c.current&&le(!1)}()}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U,{isOpen:t,actionClose:s,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-lg font-semibold text-primary-dark-blue",children:i("favouriteTradersLabel")}),(0,n.jsxs)("div",{className:"mt-[24px]",children:[d&&0===d.length&&!se&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-[16px]",children:[(0,n.jsx)("img",{src:Z.Z.src,className:"w-[64px] h-[64px]"}),(0,n.jsx)("p",{className:"rubik text-base font-light text-center text-primary-dark-blue w-[256px] mt-[16px]",children:i("favouriteBookmarkedLabel")})]})}),(0,n.jsx)(n.Fragment,{children:se&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),d&&d.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{id:"favorites-scrollable",children:(0,n.jsx)("ul",{children:(0,n.jsx)(q.Z,{dataLength:d.length,next:je,hasMore:N,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[24px] h-[24px]"})}),scrollableTarget:"favorites-scrollable",style:{overflow:"initial"},children:d.map((function(e,t){return(0,n.jsx)("li",{className:"block cursor-pointer h-[36px] ".concat(t<d.length-1?"mb-[22px]":""," hover:bg-[#f3f3f3] hover:rounded-[3px]"),onClick:function(){null===xe?(de((0,a.Bu)(e)),de((0,a.Um)(ue+1)),de((0,a.MW)(!1))):de((0,a.N0)(e.address))},children:(0,n.jsxs)("div",{className:"flex h-full justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:e.address,src:e.imageUrl?e.imageUrl:"",isNFT:e.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:e.username?"@".concat(e.username):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:i("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray",children:(0,Y.N)(e.address)})]})]}),(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center w-[24px] h-[24px]",children:ye(e.address,A)?(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),ge(e,!0)},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}):(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),be(e,!0)},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})})})]})},"favourite-item-".concat(t))}))})})})})]}),(0,n.jsx)("h4",{className:"text-lg font-semibold text-primary-dark-blue mt-[52px]",children:i("previousTradersLabel")}),(0,n.jsxs)("div",{className:"mt-[24px]",children:[m&&0===m.length&&!ae&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-[16px]",children:[(0,n.jsx)("img",{src:B,className:"w-[64px] h-[64px]"}),(0,n.jsx)("p",{className:"rubik text-base font-light text-center text-primary-dark-blue w-[256px] mt-[16px]",children:i("notTradeCreatedYetLabel")})]})}),(0,n.jsx)(n.Fragment,{children:ae&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),m&&m.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)("ul",{children:m.map((function(e,t){return(0,n.jsx)("li",{className:"block cursor-pointer h-[36px] ".concat(t<m.length-1?"mb-[22px]":""," hover:bg-[#f3f3f3] hover:rounded-[3px]"),onClick:function(){null===xe?(de((0,a.Bu)(e)),de((0,a.Um)(ue+1)),de((0,a.MW)(!1))):de((0,a.N0)(e.address))},children:(0,n.jsxs)("div",{className:"flex h-full justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:e.address,src:e.imageUrl?e.imageUrl:"",isNFT:e.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:e.username?"@".concat(e.username):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:i("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray",children:(0,Y.N)(e.address)})]})]}),(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center w-[24px] h-[24px]",children:ye(e.address,z)?(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),ge(e,!1)},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}):(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),be(e,!1)},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})})})]})},"favourite-item-".concat(t))}))})})})]})]})}),(0,n.jsxs)("section",{className:"hidden lg:block",children:[(0,n.jsx)("h4",{className:"text-base font-semibold text-primary-dark-blue",children:i("favouriteTradersLabel")}),(0,n.jsxs)("div",{className:"mt-[24px]",children:[d&&0===d.length&&!se&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-[16px]",children:[(0,n.jsx)("img",{src:Z.Z.src,className:"w-[64px] h-[64px]"}),(0,n.jsx)("p",{className:"rubik text-base font-light text-center text-primary-dark-blue mt-[16px]",children:i("favouriteBookmarkedLabel")})]})}),(0,n.jsx)(n.Fragment,{children:se&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[250px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),d&&d.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"".concat(J().scrollbar," h-[268px] overflow-y-scroll"),children:(0,n.jsx)("ul",{children:(0,n.jsx)(q.Z,{dataLength:d.length,next:je,hasMore:N,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[24px] h-[24px]"})}),scrollableTarget:"favorites-scrollable",style:{overflow:"initial"},children:d.map((function(e,t){return(0,n.jsx)("li",{className:"block cursor-pointer h-[36px] ".concat(t<d.length-1?"mb-[22px]":""," hover:bg-[#f3f3f3] hover:rounded-[3px]"),onClick:function(){null===xe?(de((0,a.Bu)(e)),de((0,a.Um)(ue+1)),de((0,a.MW)(!1))):de((0,a.N0)(e.address))},children:(0,n.jsxs)("div",{className:"flex h-full justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:e.address,src:e.imageUrl?e.imageUrl:"",isNFT:e.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:e.username?"@".concat(e.username):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:i("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray",children:(0,Y.N)(e.address)})]})]}),(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center w-[24px] h-[24px]",children:ye(e.address,A)?(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),ge(e,!0)},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}):(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),be(e,!0)},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})})})]})},"favourite-item-".concat(t))}))})})})})]}),(0,n.jsx)("h4",{className:"text-base font-semibold text-primary-dark-blue mt-[52px]",children:i("previousTradersLabel")}),(0,n.jsxs)("div",{className:"mt-[24px]",children:[m&&0===m.length&&!ae&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center p-[16px]",children:[(0,n.jsx)("img",{src:B,className:"w-[64px] h-[64px]"}),(0,n.jsx)("p",{className:"rubik text-base font-light text-center text-primary-dark-blue mt-[16px]",children:i("notTradeCreatedYetLabel")})]})}),(0,n.jsx)(n.Fragment,{children:ae&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[250px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),m&&m.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"".concat(J().scrollbar," h-[268px] overflow-y-scroll"),children:(0,n.jsx)("ul",{children:m.map((function(e,t){return(0,n.jsx)("li",{className:"block cursor-pointer h-[36px] ".concat(t<m.length-1?"mb-[22px]":""," hover:bg-[#f3f3f3] hover:rounded-[3px]"),onClick:function(){null===xe?(de((0,a.Bu)(e)),de((0,a.Um)(ue+1)),de((0,a.MW)(!1))):de((0,a.N0)(e.address))},children:(0,n.jsxs)("div",{className:"flex h-full justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:e.address,src:e.imageUrl?e.imageUrl:"",isNFT:e.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:e.username?"@".concat(e.username):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:i("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray",children:(0,Y.N)(e.address)})]})]}),(0,n.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,n.jsx)("div",{className:"flex justify-center items-center w-[24px] h-[24px]",children:ye(e.address,z)?(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),ge(e,!1)},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}):(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(t){t.stopPropagation(),be(e,!1)},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})})})]})},"favourite-item-".concat(t))}))})})})]})]})]})},se=function(e){var t=e.isCurrent,s=e.children;return(0,n.jsx)(n.Fragment,{children:t&&s})},ne=function(e){var t=e.address,s=e.username,i=e.avatar,c=e.isFavourite,o=e.isRegistered,d=e.className,u=e.onClick,x=(e.onChange,e.isSelected),m=void 0!==x&&x,f=e.onFavourite,h=(0,p.Z)("common").t,g=(0,r.useRef)(!1),b=(0,r.useState)(c),y=b[0],j=b[1],v=(0,r.useState)([]),N=v[0],w=v[1],k=(0,r.useState)([]),C=k[0],S=k[1],_=(0,l.T)(),E=(0,l.C)((function(e){return e})).waccount,L=E.jwtToken,T=E.currentNetworkId,F=function(e){if(e&&"response"in e&&"undefined"!==typeof e.response){var t=e.response.status;401===t?(_((0,a.jO)()),_((0,a.r$)(!1)),_((0,Q.up)(!0)),_((0,Q.kt)()),(0,X.uM)({account:null,isConnected:!1,currentNetworkId:null,currentNetworkName:null,nonce:null,username:null,email:null,firstLogin:null,createdAt:null,updatedAt:null,jwtToken:null,walletProviderName:null,walletProviderIconURL:null,avatarUrl:null,isNFT:0,isVerified:0,sessionExpired:!1})):500===t&&(console.log("backend error.."),console.error(e))}else console.error(e)};return(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("article",{className:"flex items-center justify-between w-full h-[80px] rounded-[80px] border-[1px] border-solid cursor-pointer px-[32px] hover:border-primary-blue ".concat(m?"border-primary-blue":"border-[rgba(151, 157, 172, 0.4)]"," ").concat(d),onClick:function(e){u&&u(e)},children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsxs)("span",{className:"text-primary-dark-blue text-base font-semibold",children:[(0,n.jsx)("span",{className:"lg:hidden",children:(0,Y.x)(t)}),(0,n.jsx)("span",{className:"hidden lg:inline",children:t})]}),(0,n.jsxs)("div",{className:"flex justify-start items-center",children:[(0,n.jsx)(W.Z,{address:t,src:i.imageSrc,isNFT:i.isNFT,className:"mr-[8px]",sizesClassNames:"w-[24px] h-[24px]",jazziconSize:{defaultSize:24,breakpoints:[],sizes:[]}}),(0,n.jsx)("span",{className:"mr-[8px] text-base font-semibold text-primary-dark-blue",children:1===o?(0,n.jsx)(n.Fragment,{children:s?"@".concat(s):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:h("usernameNotSetLabel")})})}):(0,n.jsx)("span",{className:"text-primary-gray",children:h("notRegisteredUserLabel")})}),(0,n.jsxs)("div",{className:"w-[24px] h-[24px] flex items-center justify-center",children:[1===y&&(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px]",onClick:function(e){var s;e.stopPropagation(),s=t,C.indexOf(s)>-1||T&&L&&(S(C.concat([s])),(0,K.U3)((0,$.f)("deleteFavouriteUser"),{networkId:T.toString(),userFavourite:s},L).then((function(e){var t=JSON.parse(JSON.stringify(C));t=t.splice(t.indexOf(s),1),g.current&&(S(t),j(0)),f&&f(0)})).catch((function(e){var t=JSON.parse(JSON.stringify(C));t=t.splice(t.indexOf(s),1),g.current&&S(t),F(e)})))},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}),0===y&&(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] hover",onClick:function(e){var s;e.stopPropagation(),s=t,N.indexOf(s)>-1||T&&L&&(w(N.concat([s])),(0,K.jl)((0,$.f)("addFavouriteUser"),{networkId:T.toString(),userFavourite:s},L).then((function(e){var t=JSON.parse(JSON.stringify(N));t=t.splice(t.indexOf(s),1),g.current&&(w(t),j(1)),f&&f(1)})).catch((function(e){var t=JSON.parse(JSON.stringify(N));t=t.splice(t.indexOf(s),1),g.current&&w(t),F(e)})))},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})]})]})]}),(0,n.jsx)("div",{className:"w-[32px] h-[32px] flex justify-center items-center",children:(0,n.jsx)("div",{className:"".concat(m?"border-primary-blue":"border-primary-gray"," w-[24px] h-[24px] flex justify-center items-center border-[1px] border-solid rounded-full hover:border-primary-blue"),children:(0,n.jsx)("div",{className:"".concat(m?"bg-primary-blue":""," w-[10.5px] h-[10.5px] rounded-full")})})})]})})},re="/_next/static/media/avatars.165e0fdb.svg";function ae(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var le=function(e){var t=e.isCurrent,s=(0,p.Z)("common").t,i=(0,r.useRef)(!1),c=(0,r.useState)(!1),o=c[0],d=c[1],u=(0,r.useState)(""),x=u[0],m=u[1],f=(0,r.useState)(),h=f[0],g=f[1],b=(0,r.useState)(""),y=b[0],j=b[1],v=(0,r.useState)(!1),N=v[0],w=v[1],k=(0,r.useRef)({clearInput:null}),C=(0,l.C)((function(e){return e})),S=C.trademodal,_=C.waccount,E=(0,l.T)(),L=S.taker,T=_.currentNetworkId,F=_.jwtToken,M=(0,r.useState)(!1),I=M[0],R=M[1],O=function(e){if(0===e.length)return i.current&&(w(!1),R(!1)),void setTimeout((function(){i.current&&g([])}),500);T&&F?(i.current&&R(!0),(0,K.Vd)((0,$.f)("searchUser",[T,e]),F).then((function(t){var s=t.data;if(ae(s,Array)&&s.length>0){var n=s[0],r=[];"isAddress"in n&&!0===n.isAddress?s.forEach((function(t){r.push({evmNetworkId:T,username:"",address:e,imageUrl:"",isVerified:0,isNft:0,isRegistered:0})})):"evmNetworkId"in n&&s.forEach((function(e){r.push({evmNetworkId:e.currentNetworkId,username:e.username,address:e.address,imageUrl:e.imageUrl,isVerified:e.isVerified,isNft:e.isNft,isRegistered:e.isRegistered,isFavourite:e.isFavourite})})),i.current&&(g(r),R(!1))}})).catch((function(e){!function(e){if(e&&"response"in e&&"undefined"!==typeof e.response){var t=e.response.status;401===t?(E((0,a.jO)()),E((0,a.r$)(!1)),E((0,Q.up)(!0)),E((0,Q.kt)()),(0,X.uM)({account:null,isConnected:!1,currentNetworkId:null,currentNetworkName:null,nonce:null,username:null,email:null,firstLogin:null,createdAt:null,updatedAt:null,jwtToken:null,walletProviderName:null,walletProviderIconURL:null,avatarUrl:null,isNFT:0,isVerified:0,sessionExpired:!1})):500===t&&(console.log("backend error.."),console.error(e))}else console.error(e)}(e),i.current&&R(!1)})),i.current&&w(!1)):i.current&&R(!1)};return(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,r.useEffect)((function(){if(o){var e=function(){window.innerWidth>1023&&i.current&&d(!1)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[o]),(0,r.useEffect)((function(){i.current&&(g([]),w(!0))}),[x]),(0,r.useEffect)((function(){N&&O(x)}),[N]),(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"grid grid-cols-12",children:[(0,n.jsx)("div",{className:"hidden bg-primary-white rounded-[16px] p-[24px] lg:shadow-sm lg:shadow-light-shadow lg:block lg:col-span-3 lg:max-h-[732px]",children:(0,n.jsx)(te,{isModalOpen:!1,actionClose:function(){}})}),(0,n.jsx)("div",{className:"col-span-12 pt-[30px] lg:pt-0 lg:rounded-[16px] lg:col-span-9 lg:pl-[48px] lg:min-h-[732px]",children:(0,n.jsx)("div",{className:"w-full lg:bg-primary-yellow lg:rounded-[16px] lg:rounded-tr-[0px] lg:min-h-[732px]",children:(0,n.jsxs)("div",{className:"w-full bg-primary-white lg:pt-[40px] lg:px-[112px] lg:shadow-sm lg:shadow-light-shadow lg:rounded-[16px] lg:rounded-tr-[40px] lg:min-h-[732px]",children:[(0,n.jsx)("h3",{className:"text-center text-primary-dark-blue text-2xl font-semibold",children:s("whoProposeTradeLabel")}),(0,n.jsxs)("div",{className:"flex flex-col mt-[40px] text-center lg:items-center lg:pt-[0px]",children:[(0,n.jsx)("span",{className:"mb-[16px] text-base font-regular text-primary-dark-blue lg:mb-[24px]",children:s("searchForCounterpartyLabel")}),(0,n.jsx)(A.Z,{setFilter:function(e){m(e),j(""),E((0,a.N0)(null))},onClear:function(){E((0,a.N0)(null))},placeholder:s("searchUsernamePlaceholderLabel"),refClear:k,className:"lg:w-[600px]"}),(0,n.jsx)("div",{className:"flex items-center justify-center mt-[16px] lg:hidden",children:(0,n.jsxs)("span",{className:"flex cursor-pointer text-primary-blue w-max hover:underline",onClick:function(){d(!0)},children:[(0,n.jsx)("span",{className:"text-base font-semibold mr-[8px]",children:s("selectFromFavouriteLabel")}),(0,n.jsx)("img",{src:P})]})}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[56px] lg:w-[600px]",children:[(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue",children:s("currentCounterpartyTraderLabel")}),(0,n.jsx)("ul",{className:"w-full mt-[24px]",children:(0,n.jsx)("li",{children:(0,n.jsx)(ne,{address:L&&L.collector?L.collector.address:"",username:L&&L.collector?L.collector.username:"",avatar:{imageSrc:L&&L.collector?L.collector.imageUrl:"",isNFT:L&&L.collector?L.collector.isNft:0,isVerified:0},isFavourite:L&&L.collector&&L.collector.isFavourite?L.collector.isFavourite:0,isRegistered:L&&L.collector&&L.collector.isRegistered?L.collector.isRegistered:0,isSelected:!0,onChange:function(){}})})}),(0,n.jsx)(n.Fragment,{children:I&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full mt-[30px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),h&&h.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue mt-[48px]",children:s("selectAddressLabel")}),(0,n.jsx)("ul",{className:"w-full mt-[24px]",children:h.map((function(e,t){return(0,n.jsx)("li",{className:"mb-[8px]",children:(0,n.jsx)(ne,{address:e.address,username:e.username,avatar:{imageSrc:e.imageUrl,isNFT:e.isNft,isVerified:0},isFavourite:e.isFavourite?e.isFavourite:0,isRegistered:e.isRegistered?e.isRegistered:0,onClick:function(){j(e.address),E((0,a.N0)(e.address))},onChange:function(){},isSelected:y===e.address},"selectable-user-".concat(e.address))},"collector-".concat(e.address,"-").concat(t))}))})]}),0===(null===h||void 0===h?void 0:h.length)&&x.length>0&&!I&&(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[30px]",children:[(0,n.jsx)("img",{src:re,className:"w-[40px] h-[40px]"}),(0,n.jsxs)("div",{className:"mt-[24px] text-center flex flex-col items-center",children:[(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue",children:s("noAddressFoundLabel")}),(0,n.jsx)("span",{className:"text-primary-blue text-sm font-regular underline cursor-pointer mt-[8px]",onClick:function(){k.current&&k.current.clearInput&&ae(k.current.clearInput,Function)&&k.current.clearInput(),E((0,a.N0)(null))},children:s("clearSearchLabel")})]})]})]})]})]})})})]}),o&&(0,n.jsx)(te,{isModalOpen:o,actionClose:function(){d(!1)}})]})})},ie=s(28023),ce=s.n(ie),oe=s(37011),de=function(e){var t=e.isOpen,s=void 0!==t&&t,i=(e.actionClose,(0,p.Z)("common").t),c=(0,r.useState)(s),o=c[0],d=(c[1],(0,l.T)()),x=function(){d((0,a.aj)(!1))};return(0,r.useEffect)((function(){o||x()}),[o]),(0,n.jsx)(n.Fragment,{children:o&&(0,n.jsx)("div",{className:"".concat(ce().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),onClick:function(){d((0,a.aj)(!1))},children:(0,n.jsx)("div",{className:"".concat(ce().paymentModal," fixed flex flex-col w-full bg-primary-blue z-[20000] rounded-t-[32px] py-[40px] px-[16px] w-full h-full text-center lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),onClick:function(e){e.stopPropagation()},children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-primary-white",children:[(0,n.jsx)("img",{src:oe.Z.src,className:"w-[72px] h-[72px] ".concat(ce().rotating)}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center mt-[40px] text-center",children:[(0,n.jsxs)("h2",{className:"text-primary-white text-3xl font-semibold",children:[i("loadingLabel")," .."]}),(0,n.jsx)("div",{className:"mt-[8px] mb-[40px]",children:i("waitConfirmTxLabel")}),(0,n.jsx)(u.Z,{text:i("cancelLabel"),type:{class:"secondary",hasColoredBg:!0,icon:!1},size:"large",onClick:function(){x()},initialState:{state:"default"},className:"w-full lg:w-[123px]"})]})]})})})})},ue=s(93442),xe=s(91936),me=s(47606),pe=s.n(me),fe=s(47777),he=[{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}],ge=s(43376),be=s(25900),ye="/_next/static/media/down_blue.faa765b9.svg",je="/_next/static/media/info.ea4bf384.svg",ve=s(73602),Ne=s.n(ve),we=function(e){var t=e.className,s=void 0===t?"":t,r=e.children;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"".concat(Ne().bubbleMessage," ").concat(s," absolute pt-[20px] pl-[16px] pr-[20px] pb-[8] shadow shadow-md rounded-[16px] bg-primary-white absolute"),children:(0,n.jsx)("div",{className:"h-[80%] overflow-y-scroll pr-[20px]",children:(0,n.jsx)("div",{className:"rubik text-xs font-light",children:r})})})})},ke=s(8138),Ce=function(e){var t=e.isCurrent,s=(0,p.Z)("common").t,i=(0,r.useRef)(!1),c=(0,r.useState)(),o=c[0],d=c[1],x=(0,r.useState)(),m=x[0],f=x[1],h=(0,r.useState)(),g=h[0],b=h[1],y=(0,r.useState)([]),j=y[0],v=y[1],N=(0,r.useState)(),_=N[0],T=N[1],F=(0,r.useState)(!1),M=F[0],I=F[1],A=(0,r.useState)(!1),R=(A[0],A[1]),O=(0,r.useState)(!1),z=(O[0],O[1]),U=(0,r.useState)(),Z=U[0],B=U[1],P=(0,r.useState)(),D=P[0],H=P[1],V=(0,r.useState)(),W=V[0],Y=V[1],G=(0,r.useState)(),J=G[0],q=G[1],Q=(0,r.useState)(),X=Q[0],ee=Q[1],te=(0,r.useState)(),ne=te[0],re=te[1],ae=(0,r.useState)(!1),le=ae[0],ie=ae[1],ce=(0,r.useState)(!1),oe=ce[0],me=ce[1],ve=(0,r.useState)(""),Ne=(ve[0],ve[1]),Ce=(0,l.T)(),Se=(0,l.C)((function(e){return e})),_e=Se.trademodal,Ee=Se.waccount,Le=_e.isPaymentModalOpen,Te=_e.currentStepMenu,Fe=_e.who,Me=_e.maker,Ie=_e.taker,Ae=_e.dayDuration,Re=_e.swapId,Oe=Ee.currentNetworkId,ze=Ee.account,Ue=(0,C.Ge)().library,Ze=function(e){if(!e.find((function(e){return"ERC721"===e.type||"ERC1155"===e.type})))return!1;var t=!1,s=!1;if(e.filter((function(e){return"ERC1155"===e.type||"ERC721"===e.type})).forEach((function(e){"ERC1155"===e.type?s=!0:"ERC721"===e.type&&(t=!0)})),s&&t)return!1;var n=[];return e.filter((function(e){return"ERC1155"===e.type||"ERC721"===e.type})).forEach((function(e){-1===n.indexOf(e.collection.address.toLowerCase())&&n.push(e.collection.address.toLowerCase())})),1===n.length},Be=function(e){if(Ie&&Ie.collector&&Ie.assets&&Me&&Me.assets){var t="0",s=Ie.collector.address,n="0",r=Ae,a=Me.assets.find((function(e){return"NATIVE"===e.type}));a&&(t=a.amount?a.amount:"0");var l=Ie.assets.find((function(e){return"NATIVE"===e.type}));l&&(n=l.amount?l.amount:"0");var i=new e.AssetsArray,c={},o={};Me.assets.filter((function(e){return"NATIVE"!==e.type})).forEach((function(e){"ERC721"===e.type?e.collection.address.toLowerCase()in c?c[e.collection.address.toLowerCase()].push(e.id):c[e.collection.address.toLowerCase()]=[e.id]:"ERC1155"===e.type?e.collection.address.toLowerCase()in o?(o[e.collection.address.toLowerCase()].tokenAmounts.push(e.amount),o[e.collection.address.toLowerCase()].tokenIds.push(e.id)):o[e.collection.address.toLowerCase()]={tokenAmounts:[e.amount],tokenIds:[e.id]}:"ERC20"===e.type&&i.addERC20Asset(e.collection.address.toLowerCase(),e.amount)})),Object.keys(c).forEach((function(e){c[e].forEach((function(t){i.addERC721Asset(e,t)}))})),Object.keys(o).forEach((function(e){i.addERC1155Asset(e,o[e].tokenIds,o[e].tokenAmounts)}));var d=new e.AssetsArray,u={},x={};return Ie.assets.filter((function(e){return"NATIVE"!==e.type})).forEach((function(e){"ERC721"===e.type?e.collection.address.toLowerCase()in u?u[e.collection.address.toLowerCase()].push(e.id):u[e.collection.address.toLowerCase()]=[e.id]:"ERC1155"===e.type?e.collection.address.toLowerCase()in x?(x[e.collection.address.toLowerCase()].tokenAmounts.push(e.amount),x[e.collection.address.toLowerCase()].tokenIds.push(e.id)):x[e.collection.address.toLowerCase()]={tokenAmounts:[e.amount],tokenIds:[e.id]}:"ERC20"===e.type&&d.addERC20Asset(e.collection.address.toLowerCase(),e.amount)})),Object.keys(u).forEach((function(e){u[e].forEach((function(t){d.addERC721Asset(e,t)}))})),Object.keys(x).forEach((function(e){d.addERC1155Asset(e,x[e].tokenIds,x[e].tokenAmounts)})),{ethMaker:t,taker:s,ethTaker:n,assetsMaker:i.getAssetsArray(),assetsTaker:d.getAssetsArray(),swapEnd:r,referralAddress:"0x0000000000000000000000000000000000000000"}}return null},Pe=function(e,t){e.getReferenceAddress().then((function(e){var s=e.TRADESQUAD,n=e.PARTNERSQUAD,r=new k.CH(s,he,Ue),a=new k.CH(n,he,Ue);r.balanceOf(ze).then((function(e){e.gt(0)?i.current&&B(!0):i.current&&B(!1)})).catch((function(e){i.current&&B(!1),console.error(e)})),a.balanceOf(ze).then((function(e){e.gt(0)?function(e,t){var s=(0,ge.h)(e);s&&(0,K.bf)((0,$.f)("getNftCollection",[s,t])).then((function(e){var t=e.data[0];i.current&&(Y(t),H(!0))})).catch((function(e){console.error(e),i.current&&H(!1)}))}(t,n):i.current&&H(!1)})).catch((function(e){i.current&&H(!1),console.error(e)}))})).catch((function(e){console.error(e)}))},De=function(e,t,s,n,r,a){var l=new k.CH(t,e,Ue),c=s.collection.address.toLowerCase(),o=s.id;if(c&&o){var d=n.assets.filter((function(e){return"ERC20"===e.type||"NATIVE"===e.type})),u=[],x=d.length;d.forEach((function(e){l.getRoyaltyView(c,o,e.amount).then((function(t){var s,n=t.amounts;t.recipients.length>0&&n.length>0?(n.forEach((function(e,t){0===t?s=e:s.add(e)})),"NATIVE"===e.type?(u.push({amount:xe.bM(s?s.toString():"0",(0,fe.z)("ETHEREUM_DECIMALS_NUMBER")),currency:e.collection.symbol,visible:!0}),u.length===x&&i.current&&(v(u),r&&("maker"===a?R(!0):z(!0)))):new k.CH(e.collection.address,e.collection.abi,Ue).decimals().then((function(t){u.push({amount:xe.bM(s?s.toString():"0",t),currency:e.collection.symbol,visible:!0}),u.length===x&&i.current&&(v(u),r&&("maker"===a?R(!0):z(!0)))})).catch((function(e){console.error(e),u.push({amount:"",currency:"",visible:!1}),u.length===x&&i.current&&(v(u),r&&("maker"===a?R(!0):z(!0)))}))):i.current&&T(!1)})).catch((function(e){console.error(e),u.push({amount:"",currency:"",visible:!1}),u.length===x&&i.current&&(v(u),r&&("maker"===a?R(!0):z(!0)))}))}))}};return(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}})),(0,r.useEffect)((function(){if(Oe&&Fe&&Me&&Me.assets&&Ie&&Ie.assets){var e=new(E())({ethers:w,web3Provider:Ue,network:(0,S.qe)(Oe).toUpperCase()});i.current&&q((0,S.dW)(Oe)),"maker"===Fe?function(e){var t=Be(e);t&&e.estimateGasCreateSwap(t,null).then((function(e){i.current&&e?d(e.toString()):e||me(!0)})).catch((function(e){me(!0),Ne(e),console.log(e),console.error(e)}))}(e):function(e){if("number"===typeof Re&&Re>=0){var t={swapId:Re,referralAddress:"0x0000000000000000000000000000000000000000"};e.estimateGasCloseSwap(t,null).then((function(e){i.current&&e?d(e.toString()):e||me(!0)})).catch((function(e){me(!0),Ne(e),console.log(e),console.error(e)}))}}(e),function(e,t){e.getPayment().then((function(e){var s=e.flagFlatFee,n=e.flagRoyalties,r=e.flatFee,a=e.bps,l=e.scalePercent;if(Me&&Me.assets&&Ie&&Ie.assets)if(i.current&&T(n),!1===s){var c=a.mul(100).toNumber()/l.toNumber();if(r.eq(0))i.current&&(b("0"),f("".concat(c.toString(),"%")));else{var o=("maker"===Fe?Me:Ie).assets;i.current&&b(r.toString()),o.findIndex((function(e){return"NATIVE"===e.type||"ERC20"===e.type}))>-1?i.current&&f("".concat(xe.bM(r.toString(),(0,fe.z)("ETHEREUM_DECIMALS_NUMBER"))," ").concat((0,S.dW)(t)," + ").concat(c.toString(),"%")):i.current&&f("".concat(xe.bM(r.toString(),(0,fe.z)("ETHEREUM_DECIMALS_NUMBER"))," ").concat((0,S.dW)(t)))}}else i.current&&(b(r.toString()),f("".concat(xe.bM(r.toString(),(0,fe.z)("ETHEREUM_DECIMALS_NUMBER"))," ").concat((0,S.dW)(t))))})).catch((function(e){console.error(e)}))}(e,Oe),Pe(e,Oe)}}),[]),(0,r.useEffect)((function(){if(_&&Fe&&Me&&Me.assets&&Ie&&Ie.assets&&Oe){var e=new(E())({ethers:w,web3Provider:Ue,network:(0,S.qe)(Oe).toUpperCase()}),t=e.getRoyaltyRegistriesEngines(),s=e.getRoyaltyRegistryEngineABI(),n=t[(0,S.qe)(Oe).toUpperCase()];if("maker"===Fe)if(-1===Me.assets.findIndex((function(e){return"NATIVE"===e.type||"ERC20"===e.type})))if(Ze(Me.assets))if(-1!==Ie.assets.findIndex((function(e){return"NATIVE"===e.type||"ERC20"===e.type}))){var r=Me.assets.find((function(e){return"ERC721"===e.type||"ERC1155"===e.type}));if(!r)return void(i.current&&T(!1));De(s,n,r,Ie,!0,"maker")}else i.current&&T(!1);else i.current&&T(!1);else if(Ze(Ie.assets)){var a=Ie.assets.find((function(e){return"ERC721"===e.type||"ERC1155"===e.type}));a&&De(s,n,a,Me)}else T(!1);else if(-1===Ie.assets.findIndex((function(e){return"NATIVE"===e.type||"ERC20"===e.type})))if(Ze(Ie.assets))if(-1!==Me.assets.findIndex((function(e){return"NATIVE"===e.type||"ERC20"===e.type}))){var l=Ie.assets.find((function(e){return"ERC721"===e.type||"ERC1155"===e.type}));if(!l)return void(i.current&&T(!1));De(s,n,l,Me,!0,"taker")}else i.current&&T(!1);else i.current&&T(!1);else if(Ze(Me.assets)){var c=Me.assets.find((function(e){return"ERC721"===e.type||"ERC1155"===e.type}));c&&De(s,n,c,Ie)}else T(!1)}}),[_]),(0,r.useEffect)((function(){if(g&&o&&Oe&&Fe&&Me&&Me.assets&&Ie&&Ie.assets){var e,t=ue.O$.from(g),s=ue.O$.from(o);if(D||Z){var n=("maker"===Fe?Me:Ie).assets.find((function(e){return"NATIVE"===e.type}));e=n?s.add(ue.O$.from(n.amount)):s}else e=s.add(t);i.current&&ee("".concat(xe.bM(e.toString(),(0,fe.z)("ETHEREUM_DECIMALS_NUMBER"))," ").concat((0,S.dW)(Oe)))}}),[g,o]),(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsxs)("section",{className:"mt-[32px] lg:mt-[16px]",children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("h3",{className:"text-primary-blue text-2xl font-semibold",children:s("proceedWithPaymentLabel")})}),(0,n.jsx)("div",{className:"mt-[40px] text-center",children:(0,n.jsx)("h4",{className:"text-primary-dark-blue font-semibold text-xl",children:s("transactionCalculationLabel")})}),(0,n.jsx)("div",{className:"mt-[32px] flex justify-center",children:(0,n.jsxs)("div",{className:"w-[343px] flex flex-col justify-center items-center md:w-[464px]",children:[(0,n.jsxs)("div",{className:"w-[95%] flex justify-between",children:[(0,n.jsx)("span",{className:"text-primary-dark-blue text-sm font-semibold",children:s("estimatedGasPriceLabel")}),o?(0,n.jsxs)("span",{className:"text-primary-dark-blue text-base font-semibold text-right",children:[xe.bM(o,(0,fe.z)("ETHEREUM_DECIMALS_NUMBER"))," ",J]}):(0,n.jsx)("img",{src:L.Z.src,className:"w-[12px] h-[auto] ".concat(pe().rotating)})]}),(0,n.jsxs)("div",{className:"w-[95%] flex justify-between mt-[16px] relative",children:[(0,n.jsxs)("span",{className:"flex justify-between items-center text-primary-dark-blue text-sm font-semibold",children:[(0,n.jsx)("span",{className:"mr-[4px]",children:s("platformFeeLabel")}),(0,n.jsx)("img",{src:je,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(){ie(!le)}}),le&&(0,n.jsx)(we,{className:"w-[296px] h-[120px] bottom-[45px] right-[60px]",children:s("platformFeeDescriptionIcon")})]}),m?(0,n.jsx)("span",{className:"text-primary-dark-blue text-base font-semibold text-right",children:m}):(0,n.jsx)("img",{src:L.Z.src,className:"w-[12px] h-[auto] ".concat(pe().rotating)})]}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"w-[95%] flex justify-between mt-[16px]",children:[(0,n.jsx)("span",{className:"text-primary-dark-blue text-sm font-semibold",children:s("royaltiesLabel")}),j.length>0?(0,n.jsxs)("span",{className:"flex justify-between items-center text-primary-blue text-sm font-semibold select-none cursor-pointer hover:underline",onClick:function(){I(!M)},children:[(0,n.jsx)("span",{className:"mr-[4px]",children:M?"Hide":"Show"}),(0,n.jsx)("img",{src:ye,className:"w-auto h-[5px]"})]}):(0,n.jsx)("img",{src:L.Z.src,className:"w-[12px] h-[auto] ".concat(pe().rotating)})]}),(0,n.jsx)(n.Fragment,{children:M&&(0,n.jsx)(n.Fragment,{children:j.map((function(e,t){return(0,n.jsx)(r.Fragment,{children:(0,n.jsxs)("div",{className:"w-[95%] flex items-center justify-between mt-[16px] px-[5px] py-[5px] rounded-[4px] bg-gray-200",children:[(0,n.jsx)("span",{className:"text-primary-dark-blue text-xs font-semibold hover:underline",children:(0,n.jsxs)("a",{href:"https://royaltyregistry.xyz/lookup",target:"_blank",children:[s("royaltyLabel")," #",t+1]})}),(0,n.jsxs)("span",{className:"text-sm font-semibold",children:[e.amount," ",e.currency]})]})},"royalty-".concat(t))}))})})]}),(Z||D)&&(0,n.jsxs)("div",{className:"w-[95%] flex justify-between mt-[16px]",children:[Z&&!D&&(0,n.jsx)("span",{className:"text-primary-blue text-sm font-semibold",children:s("tradeSquadFeeRemoval")}),D&&!Z&&(0,n.jsx)("div",{className:"flex items-center",children:W&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(be.Z,{src:W.image?W.image:"",className:"w-[25px] h-[25px] mr-[5px]"}),(0,n.jsxs)("span",{className:"text-primary-blue text-sm font-semibold",children:[W.name," ",s("zeroFeeLabel")]})]})}),D&&Z&&(0,n.jsx)("span",{className:"text-primary-blue text-sm font-semibold",children:s("tradeSquadFeeRemoval")}),m?(0,n.jsxs)("span",{className:"text-primary-blue text-base font-semibold text-right",children:["-(",m,")"]}):(0,n.jsx)("img",{src:L.Z.src,className:"w-[12px] h-[auto] ".concat(pe().rotating)})]}),!Z&&!D&&(0,n.jsxs)("div",{className:"flex justify-between items-center mt-[16px] w-full px-[10px] h-[50px] border-[1px] border-primary-blue border-solid rounded-[16px]",children:[(0,n.jsx)("span",{className:"text-primary-blue text-sm font-semibold",children:s("zeroFeeForeverLabel")}),(0,n.jsx)("span",{className:"text-primary-blue text-right",children:(0,n.jsx)(ke.Z,{text:s("mintTradeSquadButtonLabel"),url:"/tradesquads",isBlue:!0,isTargetBlank:!0,weight:"font-regular"})})]}),(0,n.jsx)("div",{className:"mt-[32px] w-full h-[1px] bg-[#D5D8DE] lg:mt-[28px]"}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-[34px] w-[95%] lg:mt-[30px]",children:[(0,n.jsx)("span",{className:"text-primary-dark-blue text-base font-semibold",children:s("totalYouWillPayLabel")}),X?(0,n.jsxs)("span",{className:"text-primary-dark-blue font-semibold ".concat(X.length>6?"text-base lg:text-base":"text-lg lg:text-xl"),children:["~",X]}):(0,n.jsx)("img",{src:L.Z.src,className:"w-[16px] h-[auto] ".concat(pe().rotating)})]}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center w-full mt-[64px] mb-[97px]",children:[oe?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"text-state-warning text-sm font-semibold",children:s("errorLabel")})})}):(0,n.jsx)(u.Z,{text:"Proceed with payment",type:{class:"primary",hasColoredBg:!1,icon:!1},size:"large",onClick:function(e){"maker"===Fe?function(e){if(Ue&&Oe){i.current&&(e("loading"),re(!0));var t=new(E())({ethers:w,web3Provider:Ue,network:(0,S.qe)(Oe).toUpperCase()}),s=Be(t);if(!s)return;t.on("createSwapTransactionError",(function(t){var s=t.error;t.typeError,4001===s.code&&i.current&&(re(!1),e("default"))})),t.on("createSwapTransactionCreated",(function(){Ce((0,a.aj)(!0))})),t.on("createSwapTransactionMined",(function(e){e.receipt,Ce((0,a.Um)(Te+1))})),t.createSwap(s,null)}}(e):"taker"===Fe&&function(e){if(Ue&&Oe&&"number"===typeof Re&&Re>=0){i.current&&(e("loading"),re(!0));var t=new(E())({ethers:w,web3Provider:Ue,network:(0,S.qe)(Oe).toUpperCase()}),s={swapId:Re,referralAddress:"0x0000000000000000000000000000000000000000"};t.on("closeSwapTransactionError",(function(t){var s=t.error;t.typeError,4001===s.code&&i.current&&(re(!1),e("default"))})),t.on("closeSwapTransactionCreated",(function(){Ce((0,a.aj)(!0))})),t.on("closeSwapTransactionMined",(function(e){e.receipt,Ce((0,a.Um)(Te+1))})),t.closeSwap(s,null)}}(e)},initialState:{state:"default"},className:"w-full"}),ne?(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(u.Z,{text:s("maker"===Fe?"cancelTradeLabel":"closeLabel"),type:{class:"secondary",hasColoredBg:!1,icon:!1},size:"large",onClick:function(){},initialState:{state:"disabled"},className:"w-full mt-[16px]"})}):(0,n.jsx)(u.Z,{text:s("maker"===Fe?"cancelTradeLabel":"closeLabel"),type:{class:"secondary",hasColoredBg:!1,icon:!1},size:"large",onClick:function(){Ce((0,a.xI)(!0))},initialState:{state:"default"},className:"w-full mt-[16px]"})]})]})}),Le&&(0,n.jsx)(de,{isOpen:!0,actionClose:function(){}})]})})},Se=s(55559),_e=s.n(Se),Ee="/_next/static/media/minus_mini.70ee0c6a.svg",Le="/_next/static/media/minus_mini_dark_blue.156deb45.svg",Te="/_next/static/media/plus_mini.0dfa11e6.svg",Fe="/_next/static/media/plus_mini_dark_blue.d4a5e5a8.svg",Me=s(64978),Ie=function(e){var t=e.days,s=e.onChange,a=e.editable,l=void 0===a||a,i=e.pastDate,c=e.expiredDate,o=e.expired,d=void 0!==o&&o,u=e.className,x=e.who,m=(0,p.Z)("common").t,f=(0,r.useRef)(!1),h=(0,r.useState)(!1),g=h[0],b=h[1],y=(0,r.useState)(!0),j=y[0],v=y[1],N=(0,r.useState)(t),w=N[0],k=N[1],C=(0,r.useState)(0),S=C[0],_=C[1],E=(0,r.useState)(new Date),L=E[0],T=E[1],F=(0,r.useState)(c)[0],M=(0,r.useState)(d)[0],I=(0,r.useRef)(null),A=function(e){return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())};return(0,r.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]),(0,r.useEffect)((function(){if(I.current){f.current&&v(!1);var e=I.current;(g?e.animate([{width:"90%"}],{duration:300,fill:"forwards"}):e.animate([{width:"100%"}],{duration:300,fill:"forwards"})).onfinish=function(){f.current&&v(!0)}}}),[g]),(0,r.useEffect)((function(){if(!M){s&&s(w);var e=null;(e=i?new Date(i):new Date).setDate(e.getDate()+w),f.current&&T(e)}}),[w]),(0,r.useEffect)((function(){if(!M&&F){var e=new Date;console.log(F,"undefined"===typeof F?"undefined":(a=F)&&"undefined"!==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a,new Date(F));var t=(0,Me.t)(e.toString(),new Date(F).toString()),s=t.weekdays,n=t.days,r=0;if(s>0)r=7*s;r+=n,f.current&&_(r)}var a}),[w]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center ".concat(u),children:[(0,n.jsx)("div",{className:"".concat("maker"===x?g?"cursor-default":"cursor-pointer":"cursor-default"," w-full flex justify-center items-center select-none"),onClick:function(){j&&l&&!M&&b(!g)},children:(0,n.jsx)("div",{className:"".concat(_e().insideBorder," px-[24px] py-[12px] rounded-[100px] flex justify-center items-center"),ref:I,style:{width:"100%"},children:g?(0,n.jsx)("div",{className:"flex justify-between items-center w-full ".concat(_e().fade),onClick:function(e){e.stopPropagation()},children:j&&!M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center text-primary-blue text-lg font-semibold mr-[24px]",children:[(0,n.jsx)("img",{src:Ee,className:"cursor-pointer",onClick:function(e){w>(0,fe.z)("MIN_DAY_DURATION_DEAL")&&f.current&&k(w-1)},onMouseEnter:function(e){e.target.src=Le},onMouseLeave:function(e){e.target.src=Ee}}),(0,n.jsx)("div",{className:"mx-[16px] w-[100px] text-center ".concat(w>99?"text-xs":"text-base"),children:"".concat(0===w?"\u221e":"".concat(w," day").concat(1===w?"":"s"))}),(0,n.jsx)("img",{src:Te,className:"cursor-pointer",onClick:function(e){f.current&&k(w+1)},onMouseEnter:function(e){e.target.src=Fe},onMouseLeave:function(e){e.target.src=Te}})]}),(0,n.jsx)("div",{className:"text-primary-blue text-lg font-semibold cursor-pointer hover:underline",onClick:function(){b(!g)},children:m("saveLabel")})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-[27px]"})})}):(0,n.jsxs)("div",{className:"flex justify-center items-center w-full ".concat(_e().fade),children:[M&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"text-primary-dark-blue text-sm font-semibold mr-[8px]",children:m("tradeExpiredLabel")})}),j&&!M?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-primary-dark-blue text-sm font-semibold mr-[8px]",children:m("tradeWillExpireLabel")}),(0,n.jsx)("div",{className:"text-primary-blue text-lg font-semibold ".concat("maker"===x&&"hover:underline"),children:"maker"===x?"".concat(w," day").concat(0===w||w>1?"s":""):"".concat(S," day").concat(0===S||S>1?"s":"")})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-[27px]"})})]})})}),(0,n.jsx)("div",{className:"flex justify-center items-center mt-[12px]",children:(0,n.jsx)("span",{className:"rubik text-primary-gray text-xs font-regular",children:M?(0,n.jsx)(n.Fragment,{children:F&&(0,n.jsxs)(n.Fragment,{children:[m("expiredOnLabel"),":"," ",F&&A(new Date(F))]})}):(0,n.jsxs)(n.Fragment,{children:[m("expiryDateLabel"),":"," ","maker"===x?L&&A(L):F&&A(new Date(F))]})})})]})})},Ae="/_next/static/media/plus_white.3ed5ae31.svg",Re="/_next/static/media/arrow_down.a03378a1.svg",Oe=s(57232),ze=s.n(Oe),Ue=function(e){var t=e.actionButtonText,s=void 0===t?"":t,a=e.textEmptyContainer,l=void 0===a?"":a,i=e.onClick,c=e.children,o=e.actionHasIcon,d=void 0===o||o,u=e.hasShowMore,x=void 0!==u&&u,m=e.who,f=void 0===m?null:m,h=e.className,g=void 0===h?"":h,b=(0,p.Z)("common").t,y=(0,r.useRef)(!1),j=(0,r.useState)(!0),v=j[0],N=j[1],w=(0,r.useRef)(null),k=(0,r.useRef)(null);return(0,r.useEffect)((function(){return y.current=!0,function(){y.current=!1}}),[]),(0,r.useEffect)((function(){if(null!=w.current){var e=new ResizeObserver((function(e){if(e.length>0){var t,s=e[0];(t=Array.isArray(s.borderBoxSize)?s.borderBoxSize[0]:s.borderBoxSize).blockSize>80&&!0===v?y.current&&N(!1):t.blockSize<=80&&!1===v&&y.current&&N(!0)}}));return e.observe(w.current),function(){w.current&&(e.unobserve(w.current),e.disconnect())}}}),[w.current,v]),(0,r.useEffect)((function(){var e=function(){if(k.current){var e=k.current,t=e.querySelector("div#badge-content"),s=e.querySelectorAll("#badge-content > div:first-child > div"),n=t.offsetWidth,r=0,a=!0,l=!1,i=void 0;try{for(var c,o=s[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){r+=c.value.offsetWidth+8*s.length}}catch(d){l=!0,i=d}finally{try{a||null==o.return||o.return()}finally{if(l)throw i}}n>r&&y.current&&N(!0)}};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"".concat(v?"rounded-[100px]":"rounded-[24px]"," ").concat(c?"py-[13px] px-[22px]":"p-[22px]"," flex items-center border-[1px] border-gary-200 select-none cursor-default border-solid bg-gray-100 ").concat(g),ref:w,children:(0,n.jsxs)("div",{className:"flex flex-col justify-center w-full",ref:k,children:[(0,n.jsxs)("div",{id:"badge-content",className:"flex justify-between",children:[(0,n.jsx)("div",{className:"flex flex-wrap justify-start items-center ".concat(v?ze().keepHozDistance:ze().keepVerDistance+" "+ze().keepHozDistance),children:c||(0,n.jsx)("span",{className:"rubik text-sm font-regular text-primary-dark-blue",children:l})}),(0,n.jsxs)("div",{className:"flex justify-end items-center cursor-pointer select-none ".concat(v?"":"hidden"),onClick:function(e){"maker"!==f&&null!==f||i&&(!x||c.length<=2)&&i(e)},children:[(0,n.jsx)("span",{className:"text-primary-blue hover:underline text-sm font-semibold mr-[8px] hover:text-primary-dark-blue",children:x?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex justify-between items-center",children:c.length>=3?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex justify-between items-center",onClick:function(e){e.stopPropagation();var t=!1;if(Array.prototype.forEach.call(window.document.getElementsByClassName("badge-left"),(function(e){e.classList.contains("badge-is-shown")&&(t=!0)})),t)i&&i(e);else{var s;Array.prototype.forEach.call(window.document.getElementsByClassName("badge-left"),(function(e){e.classList.remove("hidden"),e.classList.add("badge-is-shown")}));var n=window.document.getElementById("badge-show-more");n&&(n.innerHTML=b("editOfferLabel")),null===(s=window.document.getElementById("badge-img-show-more"))||void 0===s||s.remove()}},children:[(0,n.jsx)("span",{id:"badge-show-more",className:"hover:underline",children:"".concat(c.length-2," more item").concat(c.length-2>1?"s":"")}),(0,n.jsx)("img",{id:"badge-img-show-more",src:Re,className:"w-[16px] h-[16px]"})]})}):(0,n.jsx)(n.Fragment,{children:"maker"===f?b("editOfferLabel"):""})})}):s}),d&&(0,n.jsx)("div",{className:"rounded-full bg-primary-blue flex items-center justify-center cursor-pointer w-[24px] h-[24px] hover:bg-primary-dark-blue",children:(0,n.jsx)("img",{src:Ae,className:"w-[8px] h-[8px]"})})]})]}),(0,n.jsx)("div",{className:"flex justify-end mt-[26px] mb-[10px] ".concat(v?"hidden":""," "),children:(0,n.jsxs)("div",{className:"flex justify-end items-center w-[150px] cursor-pointer select-none",onClick:function(e){"maker"!==f&&null!==f||i&&(!x||c.length<=2)&&i(e)},children:[(0,n.jsx)("span",{className:"text-primary-blue text-sm font-semibold hover:underline mr-[8px]",children:x?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex justify-between items-center",children:c.length>=3?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex justify-between items-center",onClick:function(e){e.stopPropagation();var t=!1;if(Array.prototype.forEach.call(window.document.getElementsByClassName("badge-left"),(function(e){e.classList.contains("badge-is-shown")&&(t=!0)})),t)i&&i(e);else{var s;Array.prototype.forEach.call(window.document.getElementsByClassName("badge-left"),(function(e){e.classList.remove("hidden"),e.classList.add("badge-is-shown")}));var n=window.document.getElementById("badge-show-more-2");n&&(n.innerHTML="edit offer"),null===(s=window.document.getElementById("badge-img-show-more-2"))||void 0===s||s.remove()}},children:[(0,n.jsx)("span",{id:"badge-show-more-2",className:"hover:underline",children:"".concat(c.length-2," more item").concat(c.length-2>1?"s":"")}),(0,n.jsx)("img",{id:"badge-img-show-more-2",src:Re,className:"w-[16px] h-[16px]"})]})}):(0,n.jsx)(n.Fragment,{children:"maker"===f?"edit offer":""})})}):s}),d&&(0,n.jsx)("div",{className:"rounded-full bg-primary-blue flex items-center justify-center cursor-pointer w-[24px] h-[24px]",children:(0,n.jsx)("img",{src:Ae,className:"w-[8px] h-[8px]"})})]})})]})})})},Ze="/_next/static/media/nfts.d023cf62.svg",Be=s(19028),Pe=s.n(Be),De=s(98448),He="/_next/static/media/check_white.9085fb03.svg",Ve=function(e){var t,s=e.text,i=e.isDisabled,c=e.isEditable,o=e.isHidden,d=void 0!==o&&o,u=e.isSummary,x=void 0!==u&&u,m=e.isShrinked,p=void 0!==m&&m,f=e.tokenSymbol,h=e.icon,g=e.asset,b=void 0===g?null:g,y=e.isNFTsSummary,j=void 0!==y&&y,v=e.checkApprove,N=void 0!==v&&v,_=e.onClick,L=e.className,T=(0,r.useRef)(!1),F=(0,r.useState)(!1),M=F[0],I=F[1],A=(0,r.useState)(!1),R=A[0],O=A[1],z=(0,r.useState)(N),U=z[0],Z=(z[1],(0,l.T)()),B=(0,l.C)((function(e){return e})),P=B.waccount,D=B.trademodal,H=P.currentNetworkId,V=P.account,W=D.assetsAttemptsToApprove,Y=D.assetsToApprove,G=(D.assetsCurrentlyApproved,D.isApproving),J=D.who,K=D.maker,$=D.taker,q=(0,C.Ge)().library;return(0,r.useEffect)((function(){return T.current=!0,function(){T.current=!1}}),[]),(0,r.useEffect)((function(){if(U&&H&&b&&"ERC20"===b.type){var e=new(E())({ethers:w,web3Provider:q,network:(0,S.qe)(H).toUpperCase()}).getNetworksAvailable()[(0,S.qe)(H).toUpperCase()],t=new k.CH(b.collection.address,b.collection.abi,q);T.current&&I(!0),t.allowance(V,e).then((function(e){var t=ue.O$.from(b.amount);T.current&&(I(!1),O(e.gte(t))),Z((0,a.cP)({id:void 0,contractAddress:b.collection.address,type:b.type,approved:e.gte(t)}))})).catch((function(e){console.error(e),T.current&&(I(!1),O(!1))}))}else U&&H&&b&&"NATIVE"===b.type&&(Z((0,a.cP)({id:void 0,contractAddress:b.collection.address,type:b.type,approved:!0})),T.current&&O(!0))}),[]),(0,r.useEffect)((function(){if(U&&K&&K.assets&&$&&$.assets&&b)("maker"===J?K:$).assets.filter((function(e){return"ERC20"===e.type})).forEach((function(e){e.collection.address.toLowerCase()===b.collection.address.toLowerCase()&&e.isApproved&&T.current&&(I(!1),O(!0))})),W===Y&&M&&T.current&&I(!1);else if(U&&K&&K.assets&&$&&$.assets&&j&&W===Y){M&&T.current&&I(!1);var e=("maker"===J?K:$).assets,t=e.filter((function(e){return"ERC1155"===e.type||"ERC721"===e.type})).length;e.filter((function(e){return("ERC1155"===e.type||"ERC721"===e.type)&&e.isApproved})).length===t&&T.current&&(I(!1),O(!0))}}),[W]),(0,r.useEffect)((function(){!R&&G&&U&&T.current?I(!0):!G&&U&&T.current&&I(!1)}),[G]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{title:"".concat(s).concat(f?" ".concat(f):""),className:"".concat(x?"border-slate-200":i?"border-primary-gray":"border-primary-blue"," ").concat(c?"hover:shadow hover:shadow-xl hover:shadow-indigo-200":""," ").concat(_&&"cursor-pointer"," ").concat(d?"hidden":""," flex justify-center items-center px-[16px] py-[8px] border-[1px] border-solid rounded-[40px] bg-primary-white text-center w-max ").concat(L),onClick:_,children:[(0,n.jsxs)("span",{className:"".concat(x?"text-primary-blue":i?"text-primary-gray":"text-primary-blue"," text-sm font-semibold"),children:[p?(t=s,t.length>5?t.substring(0,4)+"..":t):s," ",h&&f&&(0,n.jsx)("span",{className:"text-primary-dark-blue",children:f})]}),!h||b||j?(0,n.jsx)(n.Fragment,{children:b||j?(0,n.jsx)(n.Fragment,{children:M&&!R?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-[24px] h-[24px] bg-primary-blue rounded-full relative left-[10px]",children:(0,n.jsx)("img",{src:De.Z.src,className:"w-[15px] h-[15px] ".concat(Pe().rotating)})})}):(0,n.jsx)(n.Fragment,{children:R?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-[24px] h-[24px] bg-primary-blue rounded-full relative left-[10px]",children:(0,n.jsx)("img",{src:He,className:"w-[15px] h-[15px]"})})}):(0,n.jsx)("img",{className:"w-[24px] h-[24px] relative left-[10px]",src:"string"===typeof h?h:""})})}):(0,n.jsx)(n.Fragment,{})}):(0,n.jsx)(n.Fragment,{children:"string"===typeof h?(0,n.jsx)("img",{className:"w-[24px] h-[24px] relative left-[10px]",src:h}):(0,n.jsx)(n.Fragment,{children:h})})]})})},We="/_next/static/media/swap.ef7d87e4.svg",Ye="/_next/static/media/check_empty.e4c035a9.svg",Ge=s(81538),Je=s.n(Ge),Ke=s(93699),$e=s(83885),qe=s.n($e),Qe="/_next/static/media/plus_circle.7e1dd773.svg",Xe="/_next/static/media/plus_circle_dark_blue.f9195683.svg",et="/_next/static/media/minus_circle.7fa4d760.svg",tt="/_next/static/media/minus_circle_dark_blue.d47d605a.svg";function st(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var nt=function(e){var t=e.NFTSrc,s=e.NFTId,a=e.NFTCollection,l=e.owner,i=e.isOpen,c=void 0!==i&&i,o=e.NFTAmount,d=void 0===o?"0":o,x=e.isUpdating,m=void 0!==x&&x,f=e.action,h=e.actionClose,g=(0,p.Z)("common").t,b=(0,r.useState)(c),y=b[0],j=b[1],v=(0,r.useState)(d),N=v[0],w=v[1],S=(0,r.useState)(),_=S[0],E=S[1],L=(0,r.useState)(),T=L[0],F=L[1],M=(0,C.Ge)().library;return(0,r.useEffect)((function(){T||F(new k.CH(a.address,a.abi,M))}),[]),(0,r.useEffect)((function(){T&&T["balanceOf(address,uint256)"](l,s).then((function(e){E(e)})).catch((function(e){console.log(e),E(ue.O$.from("0"))}))}),[T]),(0,n.jsx)(n.Fragment,{children:y&&(0,n.jsx)("div",{className:"".concat(qe().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),children:(0,n.jsxs)("div",{className:"".concat(qe().erc1155AmountModal," fixed flex flex-col w-full bg-primary-white z-[20000] rounded-t-[32px] py-[32px] px-[16px] w-full h-full text-center overflow-y-scroll lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[16px]",children:[(0,n.jsx)("div",{className:"w-[176px] h-[176px] rounded-[8px]",style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}}),(0,n.jsxs)("div",{className:"m-[16px] flex flex-col items-center justify-center w-full",children:[(0,n.jsxs)("span",{className:"text-lg font-semibold text-primary-blue w-[150px] overflow-ellipsis overflow-hidden whitespace-nowrap",title:"#".concat(s),children:["#",s]}),(0,n.jsxs)("div",{className:"flex justify-center items-center mt-[8px]",children:[(0,n.jsx)(be.Z,{src:a.imageUrl,statusVerification:a.statusVerification,className:"mr-[4px] w-[32px] h-[32px]",badgeClassName:"w-[16px] h-[16px]"}),(0,n.jsx)("span",{className:"text-xs font-semibold text-primary-dark-blue",children:a.name})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[24px]",children:[(0,n.jsx)("span",{className:"text-xl font-semibold text-primary-dark-blue",children:g("selectDesiredAmountLabel")}),(0,n.jsxs)("div",{className:"flex justify-center items-center mt-[16px] w-full",children:[(0,n.jsx)("img",{src:et,className:"w-[24px] h-[24px] mr-[16px] cursor-pointer",onClick:function(){"undefined"===typeof N?w("0"):Number(N)>0&&w((Number(N)-1).toString())},onMouseEnter:function(e){e.target.src=tt},onMouseLeave:function(e){e.target.src=et}}),(0,n.jsxs)("div",{className:"text-primary-blue flex justify-center text-xl font-semibold text-center w-[55px]",children:[(0,n.jsx)("div",{children:N}),(0,n.jsx)("div",{className:"text-xl font-light text-primary-gray w-[8px] mx-[8px]",children:"/"}),(0,n.jsx)("div",{children:_&&_.toString()})]}),(0,n.jsx)("img",{src:Qe,className:"w-[24px] h-[24px] cursor-pointer ml-[16px]",onClick:function(){"undefined"===typeof N?w("0"):Number(N)<Number(null===_||void 0===_?void 0:_.toString())&&w((Number(N)+1).toString())},onMouseEnter:function(e){e.target.src=Xe},onMouseLeave:function(e){e.target.src=Qe}})]})]}),(0,n.jsxs)("div",{className:"flex flex-col mt-[40px] lg:flex-row-reverse lg:justify-between",children:[(0,n.jsx)(u.Z,{text:g(m?"saveCapitalizedLabel":"addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},className:"mb-[16px] lg:mb-[auto]",onClick:function(){st(f,Function)&&f(N),j(!1)}}),(0,n.jsx)(u.Z,{text:g("cancelLabel"),type:{class:"secondary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},onClick:function(){st(h,Function)&&h(),j(!1)}})]})]})})})},rt=s(153),at=function(e,t,s){switch(e){case 1:return"https://opensea.io/assets/".concat(t,"/").concat(s);case 4:return"https://testnets.opensea.io/assets/".concat(t,"/").concat(s);case 137:return"https://opensea.io/assets/matic/".concat(t,"/").concat(s);case 80001:return"https://testnets.opensea.io/assets/matic/".concat(t,"/").concat(s);default:return"https://opensea.io/assets/".concat(t,"/").concat(s)}},lt="/_next/static/media/suspicious.a17fc4e9.svg",it=s(68532),ct=s.n(it),ot=function(e){e.className;var t=(0,p.Z)("common").t,s=(0,r.useState)(!1),a=s[0],l=s[1];return(0,n.jsxs)("div",{className:"relative",onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},children:[(0,n.jsx)("div",{className:"flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[28px] h-[28px] bg-state-warning",children:(0,n.jsx)("img",{src:lt,className:"w-[16px] h-[16px]"})})}),a&&(0,n.jsx)("div",{className:"".concat(ct().bubble," absolute bg-state-warning whitespace-nowrap rounded-[5px] flex items-center shadow shadow-sm"),children:(0,n.jsx)("span",{className:"rubik text-xs font-semibold p-[5px] text-primary-white",children:t("suspiciousAssetLabel")})})]})},dt=function(e){var t=e.NFTSrc,s=e.NFTId,i=e.standard,c=e.collection,o=e.address,d=e.isSelected,u=void 0!==d&&d,x=e.isShrinked,m=void 0!==x&&x,p=e.checkApprove,f=void 0!==p&&p,h=e.checkReported,g=void 0!==h&&h,b=e.isTaker,y=void 0!==b&&b,j=e.amount,v=e.hasPlaceholder,N=void 0!==v&&v,_=e.className,L=e.onClick,T=(0,r.useRef)(!1),F=(0,r.useState)(!1),M=F[0],I=F[1],A=(0,r.useState)(u),R=A[0],O=A[1],z=(0,r.useState)(!1),U=z[0],Z=z[1],B=(0,r.useState)(!1),P=B[0],D=B[1],H=(0,r.useState)(j),V=H[0],W=H[1],Y=(0,r.useState)(t),G=Y[0],J=Y[1],q=(0,r.useState)(N),Q=q[0],X=q[1],ee=(0,r.useState)(f)[0],te=(0,r.useState)(g)[0],se=(0,r.useState)(!1),ne=se[0],re=se[1],ae=(0,l.T)(),le=(0,l.C)((function(e){return e})),ie=le.waccount,ce=le.trademodal,oe=ie.currentNetworkId,de=ce.assetsAttemptsToApprove,ue=ce.assetsToApprove,xe=ce.isApproving,me=ce.who,pe=ce.maker,fe=ce.taker,he=(0,C.Ge)().library;return(0,r.useEffect)((function(){return T.current=!0,function(){T.current=!1}}),[]),(0,r.useEffect)((function(){if(ee&&oe){var e=new(E())({ethers:w,web3Provider:he,network:(0,S.qe)(oe).toUpperCase()}).getNetworksAvailable()[(0,S.qe)(oe).toUpperCase()],t=new k.CH(c.address,c.abi,he);T.current&&Z(!0),t.isApprovedForAll(o,e).then((function(e){T.current&&(Z(!1),D(e)),ae((0,a.cP)({id:s,contractAddress:c.address,type:i,approved:e}))})).catch((function(e){console.error(e),T.current&&(Z(!1),D(!1))}))}}),[ee]),(0,r.useEffect)((function(){ee&&pe&&pe.assets&&fe&&fe.assets&&(("maker"===me?pe:fe).assets.forEach((function(e){e.type===i&&e.collection.address.toLowerCase()===c.address.toLowerCase()&&e.id===s&&e.isApproved&&T.current&&(Z(!1),D(!0))})),de===ue&&U&&T.current&&Z(!1))}),[de]),(0,r.useEffect)((function(){!P&&xe&&ee?T.current&&Z(!0):!xe&&ee&&T.current&&Z(!1)}),[xe]),(0,r.useEffect)((function(){te&&oe&&(0,K.bf)((0,$.f)("getNftReported",[oe,c.address,s])).then((function(e){var t=e.data[0].isCompromised;T.current&&re(t)})).catch((function(e){console.error(e)}))}),[te]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"".concat(R?"border-primary-blue":"border-[transparent]"," ").concat(m?"":"cursor-pointer"," border-solid border-[1px] rounded-[16px] shadow-light-shadow select-none shadow-md bg-primary-white w-[163.5px] h-[224px] p-[12px]\n          flex flex-col items-center hover:shadow-lg ").concat(m?"lg:w-[170px] lg:h-[222px] xl:w-[184px] xl:h-[232px]":"lg:w-[208px] lg:h-[284px]","  lg:p-[16px] ").concat(_),onClick:function(e){m||(L&&L(e,!R),U||P||("ERC1155"===i?I(!0):O(!R)))},children:[(0,n.jsxs)("div",{className:"rounded-[8px] relative w-full h-[140px] ".concat(m?"lg:h-[152px]":"lg:h-[176px]"),style:{backgroundImage:"url(".concat(G,")"),backgroundSize:"".concat(Q?"50% auto":"cover"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundColor:"".concat(Q?"rgb(243,244,246)":""),border:"".concat(N?"1px solid #e5e7eb":"")},children:[(0,n.jsx)("img",{className:"hidden",src:"".concat(G),onError:function(){J(rt.Z.src),X(!0)}}),R&&"ERC721"===i&&(0,n.jsx)("div",{className:"absolute -top-[15px] -right-[15px] flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[27px] h-[27px] bg-primary-white border-primary-blue border-solid border-[1px]",children:(0,n.jsx)("img",{src:Ye,className:"w-[16px] h-[16px]"})})}),R&&"ERC1155"===i&&(0,n.jsx)("div",{className:"absolute -top-[15px] -right-[15px] flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[27px] h-[27px] bg-primary-white border-primary-blue border-solid border-[1px]",children:(0,n.jsx)("span",{className:"text-primary-blue text-[16px] font-semibold",children:V})})}),m&&"ERC1155"===i&&(0,n.jsx)("div",{className:"absolute -top-[15px] -right-[15px] flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[27px] h-[27px] bg-primary-white border-primary-gray border-solid border-[1px]",children:(0,n.jsx)("span",{className:"text-primary-gray text-[16px] font-semibold",children:V})})}),U&&(0,n.jsx)("div",{className:"absolute -top-[15px] -right-[15px] flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[28px] h-[28px] bg-primary-blue",children:(0,n.jsx)("img",{src:De.Z.src,className:"".concat(Je().rotating," w-[16px] h-[16px]")})})}),P&&(0,n.jsx)("div",{className:"absolute -top-[15px] -right-[15px] flex justify-center items-center w-[40px] h-[40px]",children:(0,n.jsx)("div",{className:"flex justify-center items-center rounded-full w-[28px] h-[28px] bg-primary-blue",children:(0,n.jsx)("img",{src:He,className:"w-[16px] h-[16px]"})})}),ne&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"absolute -top-[15px] -left-[15px]",children:(0,n.jsx)(ot,{})})})]}),(0,n.jsx)("div",{className:"mt-[8px] text-left w-full",children:(0,n.jsx)("span",{className:"text-base ".concat(R?"text-primary-blue":"text-primary-dark-blue"," ").concat(m?"lg:text-sm":"lg:text-lg"," font-semibold"),children:(0,n.jsx)("a",{href:oe?at(oe,c.address,Number(s)):"",target:"_blank",onClick:function(e){e.stopPropagation()},children:(0,n.jsx)(Ke.Z,{text:"#".concat(s),className:"h-[28.5px]",animationSpeed:"20",isHoverable:!0})})})}),(0,n.jsxs)("div",{className:"flex justify-center items-center mt-[4px] w-full ".concat(m&&"lg:mt-[8px]"),children:[(0,n.jsx)(be.Z,{src:c.imageUrl,statusVerification:c.statusVerification,className:"mr-[10px] w-[30px] h-[30px]",badgeClassName:"w-[15px] h-[15px]"}),(0,n.jsx)("div",{className:"flex-1 h-full",children:(0,n.jsx)("a",{href:oe?at(oe,c.address,Number(s)):"",target:"_blank",onClick:function(e){e.stopPropagation()},children:(0,n.jsx)(Ke.Z,{text:c.name,className:"h-full text-xxs font-semibold text-primary-dark-blue flex items-center",isHoverable:!0})})})]})]}),M&&(0,n.jsx)(nt,{NFTSrc:t,NFTId:s,NFTCollection:c,NFTAmount:V,isUpdating:Number(V)>0,owner:o,isOpen:!0,action:function(e){W(e),I(!1),0===Number(e)?(O(!1),ae(y?(0,a.E4)({id:s,type:i,amount:"0",amountHumanReadable:"0",owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N}):(0,a.iB)({id:s,type:i,amount:"0",amountHumanReadable:"0",owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N})),ae((0,a.Gu)())):(O(!0),y?(ae((0,a.E4)({id:s,type:i,amount:e,amountHumanReadable:e,owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N})),ae((0,a.c6)({id:s,type:i,amount:e,amountHumanReadable:e,owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N}))):(ae((0,a.iB)({id:s,type:i,amount:e,amountHumanReadable:e,owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N})),ae((0,a.TG)({id:s,type:i,amount:e,amountHumanReadable:e,owner:o,collection:c,imageSrc:t,isApproved:!1,hasPlaceholder:N}))),ae((0,a.Gu)()))},actionClose:function(){I(!1)}})]})},ut=s(73468),xt=s(306),mt=s.n(xt),pt=function(){var e=(0,p.Z)("common").t,t=(0,r.useRef)(!1),s=(0,r.useState)(0),a=s[0],i=s[1],c=(0,l.C)((function(e){return e})).trademodal,o=c.assetsCurrentlyApproved,d=c.assetsToApprove,u=100/d;return(0,r.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),(0,r.useEffect)((function(){o>0&&t.current&&i(a+u),o===d&&t.current&&i(100)}),[o]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,n.jsx)("div",{className:"flex items-center h-[15px] w-full border-primary-white border-[1px] border-solid rounded-[16px] px-[4px]",children:(0,n.jsx)("div",{className:"bg-primary-white h-[8px] rounded-[8px]",style:{width:"".concat(a,"%")}})}),(0,n.jsxs)("div",{className:"mt-[16px] text-primary-white text-lg font-semibold",children:[o," / ",d," ",e("approvedLabel")]})]})})},ft=function(e){var t=e.isOpen,s=void 0!==t&&t,i=(e.actionClose,(0,p.Z)("common").t),c=(0,r.useState)(s),o=c[0],d=(c[1],(0,l.T)()),x=(0,l.C)((function(e){return e})).trademodal,m=x.assetsCurrentlyApproved,f=x.assetsToApprove,h=x.currentStepMenu,g=x.taker,b=x.maker,y=function(){d((0,a._1)(!1))};return(0,r.useEffect)((function(){o||y()}),[o]),(0,n.jsx)(n.Fragment,{children:o&&(0,n.jsx)("div",{className:"".concat(mt().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),onClick:function(){d((0,a._1)(!1))},children:(0,n.jsxs)("div",{className:"".concat(mt().approvingModal," fixed flex flex-col w-full bg-primary-blue z-[20000] rounded-t-[32px] py-[40px] px-[16px] w-full h-full text-center lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px] ").concat(m===f?"".concat(mt().goUpButton):""),onClick:function(e){e.stopPropagation()},children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-primary-white",children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold text-primary-white mb-[8px]",children:i("assetsBeingApprovedLabel")}),(0,n.jsx)("span",{className:"rubik text-base font-light",children:i("pleaseWaitConfirmTxLabel")})]}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center mt-[40px]",children:(0,n.jsx)(pt,{})}),m===f&&(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center mt-[40px] lg:flex-row-reverse lg:justify-between",children:[(0,n.jsx)(u.Z,{text:i("confirmLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"large",onClick:function(){if(y(),(null===b||void 0===b?void 0:b.assets)&&(null===g||void 0===g?void 0:g.assets)){var e=M(b.assets,g.assets);d(e?(0,a.AW)(!0):(0,a.Um)(h+1))}},initialState:{state:"default"},className:"w-full mb-[16px] lg:mb-[0] lg:w-[auto]"}),(0,n.jsx)(u.Z,{text:i("cancelLabel"),type:{class:"secondary",hasColoredBg:!0,icon:!1},size:"large",onClick:function(){y()},initialState:{state:"default"},className:"w-full lg:w-[auto]"})]})]})})})},ht=s(40692),gt=s.n(ht),bt=function(e){var t=e.NFTSrc,s=e.hasPlaceholder,a=e.className,l=(0,r.useState)(t),i=l[0],c=l[1],o=(0,r.useState)(s),d=o[0],u=o[1];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"rounded-[8px] relative w-[64px] h-[64px] border-[2px] border-solid ".concat(a),style:{backgroundImage:"url(".concat(i,")"),backgroundSize:"".concat(d?"50% auto":"cover"),backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundColor:"".concat(d?"rgb(243,244,246)":"")},children:(0,n.jsx)("img",{className:"hidden",src:"".concat(i),onError:function(){c(rt.Z.src),u(!0)}})})})},yt="/_next/static/media/etherscan_small_icon.958d93d1.svg",jt="/_next/static/media/polygonscan_icon.a735e994.svg",vt="/_next/static/media/opensea_white_icon.efe0043e.svg",Nt=s(70687),wt=function(e){var t=e.isOpen,s=void 0!==t&&t,i=(e.actionClose,(0,p.Z)("common").t),c=(0,r.useState)(s)[0],o=(0,l.T)(),d=(0,l.C)((function(e){return e})),x=d.trademodal,m=d.waccount,f=x.currentStepMenu,h=x.taker,g=x.maker,b=m.currentNetworkId,y=function(){o((0,a.AW)(!1))};return(0,r.useEffect)((function(){c||y()}),[c]),(0,n.jsx)(n.Fragment,{children:c&&(0,n.jsx)("div",{className:"".concat(gt().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),onClick:function(){o((0,a.AW)(!1))},children:(0,n.jsxs)("div",{className:"".concat(gt().unverifiedCollectionModal," fixed flex flex-col w-full bg-primary-white z-[20000] rounded-t-[32px] py-[40px] px-[16px] w-full h-full overflow-y-scroll text-center lg:relative lg:w-[520px] lg:h-full lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),onClick:function(e){e.stopPropagation()},children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-primary-blue",children:[(0,n.jsx)("h3",{className:"text-2xl font-semibold mb-[8px]",children:i("takeCautionTitleLabel")}),(0,n.jsx)("span",{className:"rubik text-base text-primary-blue font-light",children:b?b===S.HL.MAINNET||S.HL.RINKEBY?(0,n.jsxs)("span",{children:[i("takeCautionLabelOne")," ",(0,n.jsxs)("a",{className:"hover:underline",href:"https://docs.nfttrader.io/documentation/collection-verification-process",target:"_blank",children:[(0,n.jsx)("span",{className:"font-semibold",children:i("takeCautionLabelTwo")})," (",(0,n.jsx)("img",{src:Nt.Z.src,className:"w-[16px] h-[16px] inline-block"}),")."]})," ",i("takeCautionLabelThree")," ",(0,n.jsx)("span",{className:"font-semibold text-primary-blue",children:i("takeCautionLabelFour")})," ",i("takeCautionLabelFive")]}):(0,n.jsxs)("span",{children:[i("takeCautionPolygonLabelOne")," ",(0,n.jsxs)("a",{className:"hover:underline",href:"https://docs.nfttrader.io/documentation/collection-verification-process",target:"_blank",children:[(0,n.jsx)("span",{className:"font-semibold",children:i("takeCautionPolygonLabelTwo")})," (",(0,n.jsx)("img",{src:Nt.Z.src,className:"w-[16px] h-[16px] inline-block"}),")."]})," ",i("takeCautionPolygonLabelThree")," ",(0,n.jsx)("span",{className:"font-semibold text-primary-blue",children:i("takeCautionPolygonLabelFour")})," ",i("takeCautionPolygonLabelFive")]}):""})]}),(0,n.jsx)("div",{className:"w-full flex-none py-[25px] h-[230px] overflow-y-scroll overflow-x-none lg:flex lg:justify-center",children:(0,n.jsxs)("ul",{className:"w-[95%]",children:[g&&g.assets&&g.assets.filter((function(e){return 0===e.collection.statusVerification})).map((function(e,t){return(0,n.jsxs)("li",{className:"flex items-center justify-between w-full ".concat(t>0?"my-[15px]":"mb-[15px]"),children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(bt,{NFTSrc:e.imageSrc?e.imageSrc:"",hasPlaceholder:e.hasPlaceholder,className:"mr-[18px]"}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-start",children:[(0,n.jsx)("span",{className:"w-[200px] h-[30px] text-sm font-semibold text-primary-blue",children:(0,n.jsx)(Ke.Z,{text:"#".concat(e.id),className:"h-full"})}),(0,n.jsxs)("div",{className:"flex justify-start items-center",children:[(0,n.jsx)(be.Z,{src:e.collection.imageUrl,statusVerification:e.collection.statusVerification,className:"w-[24px] h-[24px]",badgeClassName:"w-[12px] h-[12px]"}),(0,n.jsx)("span",{className:"w-[200px] h-[30px] ml-[18px] text-sm font-semibold text-primary-blue relative top-[5px]",children:(0,n.jsx)(Ke.Z,{text:e.collection.name,className:"h-full"})})]})]})]}),(0,n.jsxs)("div",{className:"flex-none justify-between md:flex",children:[(0,n.jsx)("a",{href:(0,ut.x)(b,e.collection.address),target:"_blank",className:"mr-[11px]",children:(0,n.jsx)("img",{src:b===S.HL.MAINNET||S.HL.RINKEBY?yt:jt,className:"w-[32px] h-[32px] hover:opacity-60"})}),(0,n.jsx)("a",{href:at(b,e.collection.address,e.id?Number(e.id):null),target:"_blank",children:(0,n.jsx)("img",{src:vt,className:"w-[32px] h-[32px] hover:opacity-60"})})]})]},"".concat(e.collection.address,"-").concat(e.id))})),h&&h.assets&&h.assets.filter((function(e){return 0===e.collection.statusVerification})).map((function(e,t){return(0,n.jsxs)("li",{className:"flex items-center justify-between w-full ".concat(t>0?"my-[15px]":"mb-[15px]"),children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(bt,{NFTSrc:e.imageSrc?e.imageSrc:"",hasPlaceholder:e.hasPlaceholder,className:"mr-[18px]"}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-start",children:[(0,n.jsx)("span",{className:"w-[200px] h-[30px] text-sm font-semibold text-primary-blue",children:(0,n.jsx)(Ke.Z,{text:"#".concat(e.id),className:"h-full"})}),(0,n.jsxs)("div",{className:"flex justify-start items-center",children:[(0,n.jsx)(be.Z,{src:e.collection.imageUrl,statusVerification:e.collection.statusVerification,className:"w-[24px] h-[24px]",badgeClassName:"w-[12px] h-[12px]"}),(0,n.jsx)("span",{className:"w-[200px] h-[30px] ml-[18px] text-sm font-semibold text-primary-blue relative top-[5px]",children:(0,n.jsx)(Ke.Z,{text:e.collection.name,className:"h-full"})})]})]})]}),(0,n.jsxs)("div",{className:"flex-none justify-between sm:flex",children:[(0,n.jsx)("a",{href:(0,ut.x)(b,e.collection.address),target:"_blank",className:"mr-[11px]",children:(0,n.jsx)("img",{src:b===S.HL.MAINNET||S.HL.RINKEBY?yt:jt,className:"w-[32px] h-[32px] hover:opacity-60"})}),(0,n.jsx)("a",{href:at(b,e.collection.address,e.id?Number(e.id):null),target:"_blank",children:(0,n.jsx)("img",{src:vt,className:"w-[32px] h-[32px] hover:opacity-60"})})]})]},"".concat(e.collection.address,"-").concat(e.id))}))]})}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center mt-[40px] lg:flex-row-reverse lg:justify-between",children:[(0,n.jsx)(u.Z,{text:i("confirmLabel"),type:{class:"primary",hasColoredBg:!1,icon:!1},size:"large",onClick:function(){y(),o((0,a.Um)(f+1))},initialState:{state:"default"},className:"w-full mb-[16px] lg:mb-[0] lg:w-[auto]"}),(0,n.jsx)(u.Z,{text:i("dismissLabel"),type:{class:"secondary",hasColoredBg:!1,icon:!1},size:"large",onClick:function(){y()},initialState:{state:"default"},className:"w-full lg:w-[auto]"})]})]})})})},kt=function(e){var t=e.isCurrent,s=e.left,i=e.right,c=(0,p.Z)("common").t,o=(0,r.useRef)(!1),d=(0,r.useState)([]),u=d[0],x=d[1],m=(0,r.useState)([]),f=m[0],h=m[1],g=(0,l.T)(),b=(0,l.C)((function(e){return e})),y=b.trademodal,j=b.waccount,v=y.dayDuration,N=y.isApprovingModalOpen,w=y.isUnverifiedCollectionModalOpen,k=y.who,C=y.tradeCreationDate,S=y.tradeExpirationDate,_=y.mode,E=j.currentNetworkId;return(0,r.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]),(0,r.useEffect)((function(){if(0===u.length){var e=s.assets.filter((function(e){return"ERC1155"===e.type||"ERC721"===e.type})),t=s.assets.filter((function(e){return"ERC20"===e.type||"NATIVE"===e.type})),n=[];e.length>0&&n.push({text:"".concat(e.length," NFT").concat(e.length>1?"s":""),isDisabled:!0,isEditable:!1,isSummary:!0,isShrinked:!1,isHidden:!1,tokenSymbol:null,asset:null,isNFTsSummary:!0,icon:Ze}),t.forEach((function(e){n.push({text:e.amountHumanReadable?e.amountHumanReadable:"",isDisabled:!0,isEditable:!1,isSummary:!0,isHidden:!1,isShrinked:!0,tokenSymbol:e.collection.symbol,isNFTsSummary:!1,asset:e,icon:e.collection.imageUrl})})),n.length>2&&n.forEach((function(e,t){t>1&&(e.isHidden=!0)})),o.current&&x(n)}if(0===f.length){var r=i.assets.filter((function(e){return"ERC1155"===e.type||"ERC721"===e.type})),a=i.assets.filter((function(e){return"ERC20"===e.type||"NATIVE"===e.type})),l=[];r.length>0&&l.push({text:"".concat(r.length," NFT").concat(r.length>1?"s":""),isDisabled:!0,isEditable:!1,isSummary:!0,isHidden:!1,isShrinked:!1,tokenSymbol:null,isNFTsSummary:!0,asset:null,icon:Ze}),a.forEach((function(e){l.push({text:e.amountHumanReadable?e.amountHumanReadable:"",isDisabled:!0,isEditable:!1,isSummary:!0,isHidden:!1,isShrinked:!0,tokenSymbol:e.collection.symbol,isNFTsSummary:!1,asset:e,icon:e.collection.imageUrl})})),l.length>2&&l.forEach((function(e,t){t>1&&(e.isHidden=!0)})),o.current&&h(l)}}),[]),(0,n.jsx)(se,{isCurrent:t,children:s&&s.collector&&i&&i.collector?(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"hidden lg:flex lg:justify-between lg:items-start",children:[(0,n.jsx)("div",{className:"flex justify-start h-[40px] w-[226px]",children:(0,n.jsx)("div",{className:"flex h-full justify-between",children:(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:s.collector.address,src:s.collector.imageUrl,isNFT:s.collector.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:c("yourWalletLabel")}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray cursor-pointer xl:hidden hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,s.collector.address),target:"_blank",children:(0,Y.N)(s.collector.address)})}),(0,n.jsx)("span",{className:"hidden rubik text-xs font-regular cursor-pointer text-primary-gray xl:inline hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,s.collector.address),target:"_blank",children:(0,Y.x)(s.collector.address)})})]})]})})}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"mr-[26px]",children:(0,n.jsx)("h3",{className:"text-primary-blue text-lg font-bold text-right",children:c("whatYouAreTradingLabel")})}),(0,n.jsx)("div",{className:"rounded-full flex items-center justify-center w-[40px] h-[40px] mr-[32px] xl:bg-primary-blue",children:(0,n.jsx)("span",{className:"text-primary-dark-blue text-sm font-bold xl:text-primary-white",children:c("outLabel")})}),(0,n.jsx)("img",{src:We,className:"w-[40px] h-[40px]"}),(0,n.jsx)("div",{className:"rounded-full flex items-center justify-center w-[40px] h-[40px] ml-[32px] xl:bg-primary-blue",children:(0,n.jsx)("span",{className:"text-primary-dark-blue text-sm font-bold xl:text-primary-white",children:c("inLabel")})}),(0,n.jsx)("div",{className:"ml-[26px]",children:(0,n.jsx)("h3",{className:"text-primary-blue text-lg font-bold",children:c("whatYouWillReceiveLabel")})})]}),(0,n.jsx)("div",{className:"flex justify-end h-[40px] w-[226px]",children:(0,n.jsx)("div",{className:"flex h-full justify-between",children:(0,n.jsxs)("div",{className:"flex flex-row-reverse items-center h-full",children:[(0,n.jsx)(W.Z,{address:i.collector.address,src:i.collector.imageUrl,isNFT:i.collector.isNft,className:"ml-[16px] justify-end",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-start text-right",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-dark-blue",children:i.collector.username?"@"+i.collector.username:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:c("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray cursor-pointer xl:hidden hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,i.collector.address),target:"_blank",children:(0,Y.N)(i.collector.address)})}),(0,n.jsx)("span",{className:"hidden rubik text-xs font-regular text-primary-gray cursor-pointer xl:inline hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,i.collector.address),target:"_blank",children:(0,Y.x)(i.collector.address)})})]})]})})})]}),(0,n.jsxs)("div",{className:"w-full mt-[24px] px-[16px] lg:flex lg:justify-center lg:items-center lg:px-[auto] lg:mt-[32px]",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-primary-dark-blue text-center mb-[16px] lg:hidden",children:c("verifyConfirmLabel")}),(0,n.jsxs)("div",{className:"lg:w-[294px]",children:[null===_&&(0,n.jsx)(Ie,{days:v,onChange:function(e){g((0,a.eF)(e))},pastDate:C,expiredDate:S,editable:"maker"===k,expired:!!S&&(new Date).getTime()>new Date(S).getTime(),who:k}),"VIEW_MAKER"===_&&(0,n.jsx)(Ie,{days:v,onChange:function(e){g((0,a.eF)(e))},pastDate:C,expiredDate:S,editable:!1,expired:!!S&&(new Date).getTime()>new Date(S).getTime(),who:"taker"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col mt-[32px] lg:flex-row lg:justify-between",children:[(0,n.jsxs)("div",{className:"flex justify-between lg:hidden",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"text-primary-blue text-lg font-bold",children:c("whatYouAreTradingLabel")})}),(0,n.jsx)("div",{className:"flex items-center justify-center bg-primary-blue w-[40px] h-[40px] rounded-full",children:(0,n.jsx)("span",{className:"text-sm font-bold text-primary-white",children:c("outLabel")})})]}),(0,n.jsx)("div",{className:"flex mt-[8px] lg:hidden",children:(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:s.collector.address,src:s.collector.imageUrl,isNFT:s.collector.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue",children:c("yourWalletLabel")}),(0,n.jsx)("span",{className:"rubik text-xs font-regular text-primary-gray cursor-pointer hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,s.collector.address),target:"_blank",children:(0,Y.x)(s.collector.address)})})]})]})}),(0,n.jsxs)("div",{className:"mt-[24px] lg:flex lg:flex-col lg:justify-start lg:items-center lg:w-[48%]",children:[(0,n.jsx)("div",{className:"badges-left w-full",children:u.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Ue,{textEmptyContainer:"",actionButtonText:"",onClick:function(){g((0,a.KC)()),g((0,a.Um)(2)),g((0,a.MW)(!0))},actionHasIcon:!1,hasShowMore:!0,who:"VIEW_MAKER"===_?"taker":k,children:u.map((function(e,t){return(0,n.jsx)(Ve,{text:e.text,isDisabled:e.isDisabled,isEditable:e.isEditable,isHidden:e.isHidden,isShrinked:e.isShrinked,isSummary:e.isSummary,tokenSymbol:e.tokenSymbol,asset:e.asset,isNFTsSummary:e.isNFTsSummary,checkApprove:!0,icon:e.icon,className:"badge-left"},"badge-left-more-".concat(t))}))})})}),(0,n.jsx)("div",{className:"mt-[24px] -mx-[16px] flex py-[10px] overflow-y-scroll lg:pb-[10px] lg:py-[0] lg:overflow-auto lg:w-full lg:min-h-[400px] lg:mt-[32px] lg:mx-[auto] lg:grid lg:justify-items-center lg:gap-x-[10px] lg:gap-y-[24px] lg:grid-cols-2 x2l:grid-cols-3",children:s.assets.filter((function(e){return"ERC721"===e.type||"ERC1155"===e.type})).map((function(e,t,r){return(0,n.jsx)(dt,{NFTSrc:e.imageSrc?e.imageSrc:"",NFTId:e.id?e.id:"",standard:e.type,collection:e.collection,address:s.collector&&s.collector.address?s.collector.address:"",isSelected:!1,isShrinked:!0,checkApprove:!0,checkReported:!0,hasPlaceholder:e.hasPlaceholder,amount:e.amount?e.amount:"",className:"".concat(0===t?"ml-[16px] mr-[8px] lg:ml-[0] lg:mr-[0]":t<r.length-1?"mr-[8px] lg:mr-[0]":"mr-[16px] lg:mr-[0]"," flex-none lg:flex-auto")},"".concat(e.collection.address,"-").concat(e.id,"-left"))}))})]}),(0,n.jsx)("div",{className:"my-[32px] flex items-center justify-center lg:hidden",children:(0,n.jsx)("div",{className:"w-full h-[1px] bg-[#D5D8DE]"})}),(0,n.jsxs)("div",{className:"flex justify-between lg:hidden",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"text-primary-blue text-lg font-bold",children:c("whatYouWillReceiveLabel")})}),(0,n.jsx)("div",{className:"flex items-center justify-center bg-primary-blue w-[40px] h-[40px] rounded-full",children:(0,n.jsx)("span",{className:"text-sm font-bold text-primary-white",children:c("inLabel")})})]}),(0,n.jsx)("div",{className:"flex mt-[8px] lg:hidden",children:(0,n.jsxs)("div",{className:"flex items-center h-full",children:[(0,n.jsx)(W.Z,{address:i.collector.address,src:i.collector.imageUrl,isNFT:i.collector.isNft,className:"mr-[16px]",sizesClassNames:"w-[32px] h-[32px]",jazziconSize:{defaultSize:32,breakpoints:[],sizes:[]}}),(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue",children:i.collector.username?"@"+i.collector.username:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:c("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular cursor-pointer text-primary-gray hover:underline",children:(0,n.jsx)("a",{href:(0,ut.x)(E,i.collector.address),target:"_blank",children:(0,Y.x)(i.collector.address)})})]})]})}),(0,n.jsx)("div",{className:"mt-[24px] hidden divider lg:flex lg:justify-center lg:w-[4%]",children:(0,n.jsx)("div",{className:"h-full w-[1px] bg-[#D3D6DC]"})}),(0,n.jsxs)("div",{className:"mt-[24px] lg:flex lg:flex-col lg:justify-start lg:items-center lg:w-[48%]",children:[(0,n.jsx)("div",{className:"badges-right w-full",children:f.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Ue,{textEmptyContainer:"",actionButtonText:"",onClick:function(){g((0,a.KC)()),g((0,a.Um)(1)),g((0,a.MW)(!0))},actionHasIcon:!1,hasShowMore:!0,who:"VIEW_MAKER"===_?"taker":k,children:f.map((function(e,t){return(0,n.jsx)(Ve,{text:e.text,isDisabled:e.isDisabled,isEditable:e.isEditable,isHidden:e.isHidden,isShrinked:e.isShrinked,isSummary:e.isSummary,tokenSymbol:e.tokenSymbol,icon:e.icon},"badge-right-more-".concat(t))}))})})}),(0,n.jsx)("div",{className:"mt-[24px] -mx-[16px] flex py-[10px] overflow-y-scroll lg:pb-[10px] lg:py-[0] lg:overflow-auto lg:w-full lg:min-h-[400px] lg:mt-[32px] lg:mx-[auto] lg:grid lg:justify-items-center lg:gap-x-[10px] lg:gap-y-[24px] lg:grid-cols-2 x2l:grid-cols-3",children:i.assets.filter((function(e){return"ERC721"===e.type||"ERC1155"===e.type})).map((function(e,t,s){return(0,n.jsx)(dt,{NFTSrc:e.imageSrc?e.imageSrc:"",NFTId:e.id?e.id:"",standard:e.type,collection:e.collection,address:i.collector&&i.collector.address?i.collector.address:"",isSelected:!1,isShrinked:!0,hasPlaceholder:e.hasPlaceholder,checkReported:!0,amount:e.amount?e.amount:"",className:"".concat(0===t?"ml-[16px] mr-[8px] lg:ml-[0] lg:mr-[0]":t<s.length-1?"mr-[8px] lg:mr-[0]":"mr-[16px] lg:mr-[0]"," flex-none lg:flex-auto")},"".concat(e.collection.address,"-").concat(e.id,"-right-desktop"))}))})]})]})]})}),N&&(0,n.jsx)(ft,{isOpen:!0,actionClose:function(){}}),w&&(0,n.jsx)(wt,{isOpen:!0,actionClose:function(){}})]}):(0,n.jsx)(n.Fragment,{})})},Ct="/_next/static/media/smile_sad_gray.d6b22d46.svg";function St(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var _t=function(e){var t=e.isCurrent,s=(0,p.Z)("common").t,i=(0,r.useRef)(!1),c=(0,r.useState)(!1),o=c[0],d=c[1],x=(0,r.useState)(""),m=x[0],f=x[1],h=(0,r.useState)(),g=h[0],b=h[1],y=(0,r.useState)(""),j=y[0],v=y[1],N=(0,r.useState)(!1),w=N[0],k=N[1],C=(0,r.useRef)({clearInput:null}),S=(0,l.C)((function(e){return e})),_=S.trademodal,E=S.waccount,L=(0,l.T)(),T=_.taker,F=E.currentNetworkId,M=E.jwtToken,I=(0,r.useState)(!1),R=I[0],O=I[1],z=function(e){if(0===e.length)return i.current&&k(!1),i.current&&O(!1),void setTimeout((function(){i.current&&b([])}),500);F&&M?(i.current&&O(!0),(0,K.Vd)((0,$.f)("searchUser",[F,e]),M).then((function(t){var s=t.data;if(St(s,Array)&&s.length>0){var n=s[0],r=[];"isAddress"in n&&!0===n.isAddress?s.forEach((function(t){r.push({evmNetworkId:F,username:"",address:e,imageUrl:"",isVerified:0,isNft:0,isRegistered:0})})):"evmNetworkId"in n&&s.forEach((function(e){r.push({evmNetworkId:e.currentNetworkId,username:e.username,address:e.address,imageUrl:e.imageUrl,isVerified:e.isVerified,isNft:e.isNft,isRegistered:e.isRegistered,isFavourite:e.isFavourite})})),i.current&&b(r),i.current&&O(!1)}})).catch((function(e){!function(e){if(e&&"response"in e&&"undefined"!==typeof e.response){var t=e.response.status;401===t?(L((0,a.jO)()),L((0,a.r$)(!1)),L((0,Q.up)(!0)),L((0,Q.kt)()),(0,X.uM)({account:null,isConnected:!1,currentNetworkId:null,currentNetworkName:null,nonce:null,username:null,email:null,firstLogin:null,createdAt:null,updatedAt:null,jwtToken:null,walletProviderName:null,walletProviderIconURL:null,avatarUrl:null,isNFT:0,isVerified:0,sessionExpired:!1})):500===t&&(console.log("backend error.."),console.error(e))}else console.error(e)}(e),i.current&&O(!1)})),i.current&&k(!1)):i.current&&O(!1)};return(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,r.useEffect)((function(){if(o){var e=function(){window.innerWidth>1023&&i.current&&d(!1)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[o]),(0,r.useEffect)((function(){i.current&&(b([]),k(!0))}),[m]),(0,r.useEffect)((function(){w&&z(m)}),[w]),(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"grid grid-cols-12",children:[(0,n.jsx)("div",{className:"hidden bg-primary-white rounded-[16px] lg:block lg:col-span-3 lg:max-h-[732px]",children:(0,n.jsx)(te,{isModalOpen:!1,actionClose:function(){}})}),(0,n.jsx)("div",{className:"col-span-12 pt-[30px] lg:pt-0 lg:rounded-[16px] lg:col-span-9 lg:pl-[48px] lg:min-h-[732px]",children:(0,n.jsx)("div",{className:"w-full lg:min-h-[732px]",children:(0,n.jsxs)("div",{className:"w-full bg-primary-white lg:px-[112px] lg:rounded-[16px] lg:rounded-tr-[40px] lg:min-h-[732px]",children:[(0,n.jsx)("h3",{className:"text-center text-primary-dark-blue text-2xl font-semibold",children:s("whoDoYouToMakeTradeLabel")}),(0,n.jsxs)("div",{className:"flex flex-col mt-[40px] text-center lg:items-center lg:pt-[0px]",children:[(0,n.jsx)("span",{className:"mb-[16px] text-base font-regular text-primary-dark-blue lg:mb-[24px]",children:s("searchForAndSelectCounterpartyTraderLabel")}),(0,n.jsx)(A.Z,{setFilter:function(e){f(e),v(""),L((0,a.MW)(!1)),T&&L((0,a.FI)())},onClear:function(){L((0,a.MW)(!1)),T&&L((0,a.FI)())},placeholder:s("searchUsernameAddressLabel"),refClear:C,className:"lg:w-[600px]"}),(0,n.jsx)("div",{className:"flex items-center justify-center mt-[16px] lg:hidden",children:(0,n.jsxs)("span",{className:"flex cursor-pointer text-primary-blue w-max hover:underline",onClick:function(){d(!0)},children:[(0,n.jsx)("span",{className:"text-base font-semibold mr-[8px]",children:s("selectFromFavouriteLabel")}),(0,n.jsx)("img",{src:P})]})}),(0,n.jsxs)("div",{className:"mt-[56px] lg:w-[600px]",children:[(0,n.jsx)(n.Fragment,{children:R&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),g&&g.length>0&&(0,n.jsx)("ul",{children:g.map((function(e,t){return(0,n.jsx)("li",{className:"mb-[8px]",children:(0,n.jsx)(ne,{address:e.address,username:e.username,avatar:{imageSrc:e.imageUrl,isNFT:e.isNft,isVerified:0},isFavourite:e.isFavourite?e.isFavourite:0,isRegistered:e.isRegistered?e.isRegistered:0,onClick:function(){v(e.address),L((0,a.Bu)(e)),L((0,a.Gu)())},onChange:function(){},isSelected:j===e.address,onFavourite:function(t){var s=JSON.parse(JSON.stringify(g)),n=s.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()}));n.isFavourite=t,b(s),j===e.address&&(L((0,a.Bu)(n)),L((0,a.Gu)()))}},"selectable-user-".concat(e.address))},"collector-".concat(e.address,"-").concat(t,"-").concat((new Date).getTime()))}))}),0===(null===g||void 0===g?void 0:g.length)&&m.length>0&&!R&&(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("img",{src:Ct,className:"w-[88px] h-[88px]"}),(0,n.jsxs)("div",{className:"mt-[24px] text-center flex flex-col items-center",children:[(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue",children:s("noAddressFoundLabel")}),(0,n.jsx)(u.Z,{text:s("clearSearchLabel"),type:{class:"primary",hasColoredBg:!1,icon:!1},initialState:{state:"default"},size:"large",onClick:function(){C.current&&C.current.clearInput&&St(C.current.clearInput,Function)&&C.current.clearInput(),L((0,a.MW)(!1)),T&&L((0,a.FI)())},className:"mt-[40px] py-3"})]})]})]})]})]})})})]}),o&&(0,n.jsx)(te,{isModalOpen:o,actionClose:function(){d(!1)}})]})})},Et="/_next/static/media/comics_balloon_svg.13f4873b.svg",Lt=s(75657),Tt=function(e){var t=e.isCurrent,s=(0,p.Z)("common").t,r=(0,l.T)(),i=(0,l.C)((function(e){return e})).trademodal.who;return(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsx)("section",{className:"flex justify-center items-center",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat("maker"===i?"h-[506px]":"h-[526px]"),children:[(0,n.jsx)("img",{src:Et,className:"w-[170px] h-[auto] lg:w-[204px]"}),(0,n.jsx)("img",{src:oe.Z.src,className:"mt-[8px] w-[103px] h-[auto] lg:w-[160px]"}),(0,n.jsxs)("div",{className:"mt-[40px] text-center text-primary-white lg:mt-[48px]",children:[(0,n.jsx)("h3",{className:"text-primary-white text-2xl font-semibold lg:text-3xl",children:s("maker"===i?"yourDealHasBeenDeliveredLabel":"yourTradeWasSuccessfulLabel")}),(0,n.jsx)("div",{className:"text-center mt-[32px] lg:mt-[40px]",children:(0,n.jsx)("span",{className:"text-primary-white",children:"maker"===i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"rubik text-base font-light",children:s("yourCounterpartyFindDealLabel")})," ",(0,n.jsx)(Lt.default,{href:"/mytrades",children:(0,n.jsx)("a",{className:"text-base font-semibold hover:underline",target:"_blank",children:s("hubTradesPageLabel")})})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"rubik text-base font-light",children:s("yourNewAssetsCanBeFoundWalletLabel")})})})}),(0,n.jsx)("div",{className:"mt-[16px] text-center text-primary-white",children:"maker"===i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"rubik text-base font-light",children:s("forMoreInfoReadLabel")})," ",(0,n.jsx)(Lt.default,{href:"/faq",children:(0,n.jsx)("a",{className:"text-base font-semibold hover:underline",target:"_blank",children:s("FAQ")})})]}):(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)("div",{className:"mt-[48px]",children:(0,n.jsx)(u.Z,{text:s("maker"===i?"backToHomeLabel":"backToHubLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"large",onClick:function(){document.body.classList.remove("no-scroll"),r((0,a.r$)(!1)),r((0,a.jO)()),r((0,a.eV)(null)),r((0,a.vg)(null))},initialState:{state:"default"},className:"w-full"})})]})]})})})},Ft=function(e){var t=e.isCurrent,s=(0,l.T)(),r=(0,p.Z)("common").t;return(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsx)("section",{className:"flex justify-center items-center",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-[506px]\n          }",children:[(0,n.jsx)("img",{src:Et,className:"w-[170px] h-[auto] lg:w-[204px]"}),(0,n.jsx)("img",{src:oe.Z.src,className:"mt-[8px] w-[103px] h-[auto] lg:w-[160px]"}),(0,n.jsxs)("div",{className:"mt-[40px] text-center text-primary-white lg:mt-[48px]",children:[(0,n.jsx)("h3",{className:"text-primary-white text-2xl font-semibold lg:text-3xl",children:r("theTakerAddressIsUpdatedLabel")}),(0,n.jsx)("div",{className:"text-center mt-[32px] lg:mt-[40px]",children:(0,n.jsx)("span",{className:"text-primary-white",children:r("theTakerOfTheSwapIsNowChangedLabel")})}),(0,n.jsx)("div",{className:"mt-[16px] text-center text-primary-white",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"rubik text-base font-light",children:r("moreInfoLabel")})," ",(0,n.jsx)("a",{className:"text-base font-semibold hover:underline",href:"",target:"_blank",children:r("FAQ")})]})}),(0,n.jsx)("div",{className:"mt-[48px]",children:(0,n.jsx)(u.Z,{text:r("backLabel"),type:{class:"primary",hasColoredBg:!0,icon:!1},size:"large",onClick:function(){document.body.classList.remove("no-scroll"),s((0,a.r$)(!1)),s((0,a.jO)()),s((0,a.eV)(null)),s((0,a.vg)(null))},initialState:{state:"default"},className:"w-full"})})]})]})})})},Mt=s(7637),It=s.n(Mt),At=s(24491),Rt=s.n(At),Ot=s(98353),zt=function(e){var t=e.collection,s=e.className,r=void 0===s?"":s,a=e.isSelected,l=void 0!==a&&a,i=e.onClick;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(Rt().collectionRow," flex justify-between items-center h-[36px] mb-[16px] cursor-pointer ").concat(r),onClick:i,children:[(0,n.jsxs)("div",{className:"flex justify-start flex-1 items-center mr-[16px]",children:[(0,n.jsx)("div",{className:"w-[32px] h-[32px] flex items-center justify-center mr-[12px]",children:(0,n.jsx)("div",{className:"".concat(Rt().checkBox," ").concat(l?"border-primary-blue":"border-primary-gray"," flex items-center justify-center h-[24px] w-[24px] rounded-[6px] border-[1px] border-solid hover:border-primary-blue"),children:l&&(0,n.jsx)("img",{src:Ye,className:"w-[16px] h-[16px]"})})}),(0,n.jsx)("div",{className:"w-full h-[40px]",children:(0,n.jsx)(Ke.Z,{text:t.name,className:"text-sm font-semibold text-primary-dark-blue flex items-center h-full"})})]}),(0,n.jsx)(be.Z,{src:"imageUrl"in t&&null!=t.imageUrl?t.imageUrl:Ot.Z.src,className:"w-[32px] h-[32px]",badgeClassName:"w-[16px] h-[16px]",statusVerification:t.statusVerification})]})})},Ut=s(35017),Zt=s.n(Ut),Bt="/_next/static/media/mascotte_teacher.4723f651.svg",Pt=s(44105),Dt=s(84165),Ht=s.n(Dt),Vt=function(e){var t=e.src,s=e.size,a=e.url,l=(0,r.useRef)(!1),i=(0,r.useRef)(null),c=(0,r.useState)(!1),o=c[0],d=c[1];return(0,r.useEffect)((function(){return l.current=!0,function(){l.current=!1}}),[]),(0,r.useEffect)((function(){var e=(0,Pt.i)(t);if(o){i.current.src=e}else{var s=new Image;s.onload=function(){l.current&&d(!0)},s.onerror=function(){l.current&&d(!1)},s.src=e}}),[o]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(o?"":"bg-black"," rounded-full flex justify-center items-center overflow-hidden"),style:{width:"".concat(s,"px"),height:"".concat(s,"px")},children:[o&&(0,n.jsx)("a",{href:a,target:"_blank",children:(0,n.jsx)("img",{ref:i,className:"object-cover"})}),!o&&(0,n.jsx)("img",{src:De.Z.src,className:"".concat(Ht().rotating," w-[24px] h-[24px]")})]})})},Wt=function(e,t){if(!e)return"";if(!(t>0))return e;try{if(e.split(" ").length>=t){var s="",n=0,r=!0,a=!1,l=void 0;try{for(var i,c=e.split(" ")[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){if(s+=i.value+(n===t-1?"...":" "),n===t-1)break;n++}}catch(o){a=!0,l=o}finally{try{r||null==c.return||c.return()}finally{if(a)throw l}}return s}return e}catch(d){return e}};function Yt(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var Gt=function(e){var t=e.isOpen,s=void 0!==t&&t,i=e.actionClose,c=(0,p.Z)("common").t,o=(0,r.useRef)(!1),d=(0,r.useState)(s),x=d[0],m=d[1],f=(0,r.useState)(!1),h=f[0],g=f[1],b=(0,r.useState)(),y=b[0],j=b[1],v=(0,r.useState)(!1),N=v[0],w=v[1],k=(0,l.T)(),C=(0,l.C)((function(e){return e})).waccount.currentNetworkId;return(0,r.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]),(0,r.useEffect)((function(){x||k((0,a.Dc)(!1))}),[x]),(0,n.jsx)(n.Fragment,{children:x&&(0,n.jsx)("div",{className:"".concat(Zt().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),children:(0,n.jsxs)("div",{className:"".concat(Zt().customCollectionModal," fixed flex flex-col w-full bg-primary-white z-[20000] rounded-t-[32px] py-[32px] px-[16px] w-full h-full text-center overflow-y-scroll lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-primary-white",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-[32px] h-[32px]",children:(0,n.jsx)("img",{src:z.Z.src,className:"w-[26px] h-[26px] cursor-pointer",onClick:function(){Yt(i,Function)&&i(),m(!1)}})}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-primary-blue mt-[16px]",children:c("addNFTCollectionLabel")})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-[40px]",children:[(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue mb-[16px]",children:c("collectionAddressLabel")}),(0,n.jsx)(A.Z,{placeholder:"0x....",setFilter:function(e){!function(e){if(42===e.length&&null!=e.match(/^0x[a-fA-F0-9]{40}$/g)){var t=(0,ge.h)(C);(0,K.bf)((0,$.f)("getNftCollection",[t,e])).then((function(e){var t=e.data[0];o.current&&j(t)})).catch((function(e){console.error(e)}))}else o.current&&j(void 0);o.current&&g(!0),0===e.length&&o.current&&g(!1)}(e)},hideIcon:!0,hideButtons:!0,className:"w-full"})]}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center mt-[40px] px-[24px] py-[16px]",children:[y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Vt,{src:y.image?y.image:Ot.Z.src,url:y.externalUrl?y.externalUrl:"",size:72},y.symbol+(new Date).getTime()),(0,n.jsxs)("div",{className:"text-center w-full mt-[18px]",children:[(0,n.jsx)("span",{className:"text-xl font-semibold text-primary-dark-blue",children:y.name?y.name:""}),(0,n.jsx)("p",{className:"mt-[8px]",children:Wt(y.description,15)})]})]}),!y&&(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:Ct,className:"w-[72px] h-[72px]"}),(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue mt-[16px]",children:c("noSuchCollectionLabel")})]}),!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:Bt,className:"w-[130px]"}),(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue mt-[16px]",children:c("pasteCollectionLabel")})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col mt-[40px] lg:flex-row-reverse lg:justify-between",children:[y?(0,n.jsx)(n.Fragment,{children:N?(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:c("addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"loading"},className:"mb-[16px] lg:mb-[auto]",onClick:function(){}})}):(0,n.jsx)(u.Z,{text:c("addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},className:"mb-[16px] lg:mb-[auto]",onClick:function(){var e;w(!0),e=y,(0,K.VZ)((0,$.f)("insertCollection"),{network:(0,ge.h)(C),collection:e.collectionAddress,networkId:C}).then((function(e){o.current&&(w(!1),m(!1))})).catch((function(e){o.current&&w(!1),console.error(e)}))}})}):(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:c("addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"disabled"},className:"mb-[16px] lg:mb-[auto]"})}),(0,n.jsx)(u.Z,{text:c("closeLabel"),type:{class:"secondary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},onClick:function(){Yt(i,Function)&&i(),m(!1)}})]})]})})})},Jt=function(e){var t=e.isModalOpen,s=e.actionClose,i=e.onClickItem,c=(0,p.Z)("common").t,o=(0,r.useRef)(!1),d=(0,r.useState)([]),u=d[0],x=d[1],m=(0,r.useState)(""),f=m[0],h=m[1],g=(0,r.useState)(""),b=g[0],y=g[1],j=(0,r.useState)(0),v=j[0],N=j[1],w=(0,r.useState)(0),k=w[0],C=w[1],S=(0,r.useState)(10),_=S[0],E=(S[1],(0,r.useState)(!1)),L=E[0],T=E[1],F=(0,r.useState)(!1),M=F[0],I=F[1],R=(0,r.useState)(!1),O=R[0],z=R[1],Z=(0,l.T)(),B=(0,l.C)((function(e){return e})),P=B.trademodal,D=B.waccount,H=P.isCustomCollectionModalOpen,V=D.currentNetworkId,W=function(e){var t=null;0===u.length?o.current&&z(!0):o.current&&z(!1),t=e&&e.length>0?[V||"1","NFT",k,_,e]:[V||"1","NFT",k,_],(0,K.bf)((0,$.f)(e?"getAssetsQueryString":"getAssets",t)).then((function(e){var t=e.data[0],s=t.rows,n=t.count;o.current&&N(n),0===u.length?o.current&&x(s):o.current&&x(u.concat(s)),o.current&&z(!1)})).catch((function(e){console.log(e),o.current&&z(!1)})),o.current&&T(!1)};return(0,r.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]),(0,r.useEffect)((function(){o.current&&(N(0),C(0),x([]),T(!0))}),[b]),(0,r.useEffect)((function(){v>u.length?o.current&&(C(k+10),I(!0)):o.current&&I(!1)}),[u]),(0,r.useEffect)((function(){L&&W(b)}),[L]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U,{isOpen:t,actionClose:s,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-lg font-semibold text-center text-primary-dark-blue",children:c("filterCollectionsLabel")}),(0,n.jsxs)("div",{className:"mt-[24px] text-center",children:[(0,n.jsx)(A.Z,{placeholder:c("filterCollectionOrAddressLabel"),setFilter:function(e){y(e)},hideText:!0}),(0,n.jsx)("div",{className:"mt-[16px] text-center",children:(0,n.jsx)("span",{onClick:function(){Z((0,a.Dc)(!0))},className:"mt-[16px] text-sm font-regular text-primary-blue cursor-pointer hover:underline",children:c("addNftCollectionLabel")})})]}),(0,n.jsx)("div",{className:"mt-[48px]",children:(0,n.jsxs)(q.Z,{dataLength:u.length,next:W,hasMore:M,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[24px] h-[24px]"})}),scrollableTarget:"scrollable-modal",style:{overflow:"initial"},children:[(0,n.jsx)(n.Fragment,{children:O&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),u.map((function(e){return(0,n.jsx)(zt,{collection:e,isSelected:f===e.address,onClick:function(){e.address!==f?(h(e.address),i&&i(e)):i&&i(e)}},"collection-".concat(e.address))}))]})}),H&&(0,n.jsx)(Gt,{isOpen:!0,actionClose:function(){Z((0,a.Dc)(!1))}})]})}),(0,n.jsxs)("section",{className:"hidden lg:block",children:[(0,n.jsx)("h4",{className:"text-base font-semibold text-primary-dark-blue",children:c("filterCollectionOrAddressLabel")}),(0,n.jsxs)("div",{className:"mt-[24px]",children:[(0,n.jsx)(A.Z,{placeholder:c("filterCollectionOrAddressLabel"),setFilter:function(e){y(e)},hideText:!0}),(0,n.jsx)("div",{className:"mt-[16px]",children:(0,n.jsx)("span",{className:"mt-[16px] text-sm font-regular text-primary-blue cursor-pointer hover:underline",onClick:function(){Z((0,a.Dc)(!0))},children:c("addNftCollectionLabel")})})]}),(0,n.jsx)("div",{className:"mt-[48px] max-h-[504px] ".concat(It().scrollbar," overflow-y-scroll overflow-x-hidden px-[3px]"),id:"collections-scrollable",children:(0,n.jsxs)(q.Z,{dataLength:u.length,next:W,hasMore:M,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[24px] h-[24px]"})}),scrollableTarget:"collections-scrollable",style:{overflow:"initial"},children:[(0,n.jsx)(n.Fragment,{children:O&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[250px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})}),u.map((function(e){return(0,n.jsx)(zt,{collection:e,isSelected:f===e.address,onClick:function(){e.address!==f?(h(e.address),i&&i(e)):i&&i(e)}},"desktop-collection-".concat(e.address,"-").concat((new Date).getTime()))}))]})})]}),H&&(0,n.jsx)(Gt,{isOpen:!0,actionClose:function(){Z((0,a.Dc)(!1))}})]})},Kt="/_next/static/media/filter_white.f68e6f90.svg",$t=s(65643),qt=s.n($t),Qt=function(e){var t=e.tokenName,s=e.tokenImageSrc,r=e.onClick,a=e.className;return(0,n.jsxs)("div",{className:"".concat(qt().erc20Row," flex items-center justify-between w-full h-[48px] border-solid border-[1px] border-[rgb(213,216,222)] pl-[24px] pr-[16px] py-[12px] cursor-pointer rounded-[100px] select-none hover:bg-gray-100 ").concat(a),onClick:r,children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-blue",children:t}),(0,n.jsx)("img",{src:s,className:"w-[24px]"})]})},Xt=s(76293),es=s.n(Xt),ts=s(18255),ss=s.n(ts),ns=function(e){var t=e.items,s=e.currentItemIndex,a=e.onChange,l=e.className,i=(0,r.useState)(!1),c=i[0],o=i[1];return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(ss().selectableBadge," ").concat(c?"":"hover:opacity-90"," flex items-center justify-between relative h-[40px] rounded-[44px] pl-[16px] py-[8px] pr-[8px] cursor-pointer ").concat(l),onClick:function(){o(!0)},children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-primary-blue text-sm font-semibold mr-[8px]",children:t[s].name}),(0,n.jsx)("img",{src:ye,className:"w-[8px]"})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("img",{src:t[s].icon,className:"w-[16px]"})}),(0,n.jsx)("ul",{className:"".concat(c?"":"hidden"," absolute p-[8px] bg-primary-white shadow shadow-md shadow-light-shadow w-[140px] top-0 right-0 rounded-[4px]"),children:t.map((function(e,s){return(0,n.jsxs)("li",{className:"p-[8px] flex justify-between items-center rounded-[4px] hover:bg-gray-100",onClick:function(e){e.stopPropagation(),a&&a(s),o(!1)},children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-primary-blue",children:e.name}),(0,n.jsx)("img",{src:t[s].icon,className:"w-[24px]"})]},"selectable-badge-item-".concat(s))}))})]})})},rs=s(83536),as=s.n(rs);var ls=RegExp("^\\d*(?:\\\\[.])?\\d*$"),is=function(e){var t,s=e.tokenAmount,a=e.tokens,i=e.tokenSelectedIndex,c=e.userAddress,o=e.onValueChange,d=e.onTokenChange,u=e.placeholder,x=void 0===u?"0.00":u,m=e.showBalance,f=void 0===m||m,h=e.alreadyFocused,g=void 0!==h&&h,b=e.onInsufficientFunds,y=e.className,j=(0,p.Z)("common").t,v=(0,r.useRef)(null),N=(0,r.useRef)(!1),w=(0,r.useState)(s),S=w[0],_=w[1],E=(0,r.useState)(a),L=E[0],T=(E[1],(0,r.useState)(i)),F=T[0],M=T[1],I=(0,r.useState)(),A=I[0],R=I[1],O=(0,r.useState)(),z=O[0],U=O[1],Z=(0,r.useState)(!1),B=Z[0],P=Z[1],D=(0,r.useState)(c),H=D[0],V=(D[1],(0,r.useState)("0")),W=V[0],Y=V[1],G=(0,r.useState)(),J=G[0],q=G[1],Q=(0,r.useState)(!1),X=Q[0],ee=Q[1],te=(0,r.useState)(null),se=te[0],ne=te[1],re=(0,r.useState)(!1),ae=re[0],le=re[1],ie=(0,r.useState)(),ce=ie[0],oe=ie[1],de=(0,r.useState)(!1),me=de[0],pe=de[1],fe=(0,C.Ge)().library,he=(0,l.C)((function(e){return e})).waccount.currentNetworkName,ge=function(e){!function(e){if(""===e||ls.test(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")))if(e.indexOf(".")>-1){var t=e.substring(e.indexOf(".")+1).length;z&&t<=z&&N.current&&_(e)}else N.current&&_(e)}(e.target.value.replace(/,/g,"."))},be=function(){(0,K.bf)((0,$.f)("getPairValue",["".concat(a[F].symbol,"-USD")])).then((function(e){var t=e.data[0].amount;N.current&&oe(t)})).catch((function(e){console.log(e),N.current&&oe("0")}))},ye=function(e){if(ce){var t;if(e.indexOf(".")>-1&&e.indexOf(".")!==e.length-1){var s=e.substring(e.indexOf(".")+1).length;t=ue.O$.from(null===e||void 0===e?void 0:e.replace(".","")).mul(z?Math.pow(10,z-s).toString():"0")}else t=-1===e.indexOf(".")||e.indexOf(".")>-1&&e.indexOf(".")===e.length-1?ue.O$.from(null===e||void 0===e?void 0:e.replace(".","")).mul(z?Math.pow(10,z).toString():"0"):ue.O$.from("0");var n=ue.O$.from(Number(ce).toFixed(0)),r=xe.bM(t.mul(n),z);N.current&&Y(r.toString())}};return(0,r.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]),(0,r.useEffect)((function(){if(L.length>0){var e=[];L.forEach((function(t,s){e.push({name:t.symbol,icon:t.imageUrl})})),N.current&&q(e)}}),[L]),(0,r.useEffect)((function(){se||"NATIVE"===a[i].type?"NATIVE"===a[i].type&&N.current&&le(!0):N.current&&(ne(new k.CH(a[i].address,a[i].abi,fe)),le(!1)),N.current&&P(!0)}),[]),(0,r.useEffect)((function(){be()}),[]),(0,r.useEffect)((function(){se&&se.decimals().then((function(e){se.balanceOf(H).then((function(t){N.current&&(U(e),R(t))}))})).catch((function(e){console.error(e)}))}),[se]),(0,r.useEffect)((function(){var e,t;S?(ye(S),e=xe.vz(S,z),o&&o({value:S,amountBase:e,balance:A,currentTokenIndex:F})):(t=xe.vz("0.0",z),o&&o({value:S,amountBase:t,balance:A,currentTokenIndex:F}))}),[S]),(0,r.useEffect)((function(){ae&&he&&fe.getBalance(H).then((function(e){N.current&&(U(18),R(e))})).catch((function(e){console.log(e)}))}),[ae]),(0,r.useEffect)((function(){B&&(be(),"NATIVE"===a[F].type&&N.current?(le(!0),ne(null)):"ERC20"===a[F].type&&N.current&&(le(!1),ne(new k.CH(a[F].address,a[F].abi,fe))))}),[F]),(0,r.useEffect)((function(){g&&N.current&&ee(!0)}),[]),(0,r.useEffect)((function(){S&&ce&&z&&ye(S)}),[ce,S,z]),(0,r.useEffect)((function(){A&&b&&"function"===typeof b&&A.isZero()&&b()}),[A]),(0,n.jsx)(n.Fragment,{children:L&&L.length>0&&(0,n.jsxs)("div",{className:"flex flex-col ".concat(X?"".concat(as().cryptoBarFocus):"w-[80%]"),children:[(0,n.jsxs)("div",{className:"".concat(as().cryptoBar," ").concat(me?"border-primary-blue":"border-primary-gray"," flex w-full justify-between items-center pl-[16px] py-[8px] pr-[8px] border-[1px] border-solid text-lg font-semibold text-primary-blue rounded-[100px] h-[56px] hover:border-primary-blue ").concat(y),onClick:function(){v.current&&(ee(!0),pe(!0),v.current.focus())},children:[(0,n.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,n.jsx)("div",{onClick:function(e){e.stopPropagation(),ee(!0),pe(!0);var t,s=v.current;A&&(t=A,new Promise(ae?function(e,s){try{e(xe.bM(t,z))}catch(n){s(n)}}:function(e,s){try{null===se||void 0===se||se.decimals().then((function(s){var n=xe.bM(t,s);e(n)}))}catch(n){s(n)}})).then((function(e){_(e),setTimeout((function(){s.focus()}))}))},className:"flex items-center justify-center bg-primary-blue cursor-pointer rounded-[3px] w-[24px] h-[16px] mr-[8px] hover:bg-primary-dark-blue",children:(0,n.jsx)("span",{className:"rubik text-xxs font-semibold text-primary-white select-none",children:j("maxLabel")})}),(0,n.jsx)("div",{className:"flex flex-1 items-center",children:z&&(0,n.jsx)("input",{className:"text-lg font-semibold",ref:v,inputMode:"decimal",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:x,minLength:1,maxLength:79,spellCheck:"false",value:S,onChange:ge,onFocus:ge,onBlur:function(){pe(!1)}})})]}),J&&(0,n.jsx)(ns,{items:J,currentItemIndex:F,className:"min-w-[107px]",onChange:function(e){e!==F&&(_("0"),R(void 0),U(void 0),M(e),d&&d())}})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-[4px] px-[20px]",children:[Number(S)>0?(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)("div",{className:"rubik text-xxs font-regular text-primary-dark-blue text-left",children:"~ ".concat(function(e){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(e));return t.length>35?"".concat(t.substring(0,35),".."):t}(W))}),(0,n.jsxs)("div",{className:"rubik text-xxs font-regular text-primary-dark-blue text-left",children:[j("convertionRateLabel")," ",(0,n.jsx)("a",{href:"https://coinbase.com",target:"_blank",className:"text-primary-blue underline",children:"coinbase.com"})]})]}):(0,n.jsx)("span",{}),f?(0,n.jsxs)("span",{className:"rubik text-xxs font-regular text-primary-gray text-right ".concat((null===A||void 0===A?void 0:A.isZero())?"flex flex-col":""),children:[(0,n.jsxs)("span",{children:[j("balanceLabel")," ",(t=A,t?xe.bM(t,z):"")," ",L[F].symbol]}),(null===A||void 0===A?void 0:A.isZero())&&(0,n.jsx)("span",{className:"text-state-warning",children:j("insufficientFundsLabel")})]}):(0,n.jsx)(n.Fragment,{})]})]})})},cs="/_next/static/media/trash.b08f6964.svg",os="/_next/static/media/trash_hover.08f54799.svg",ds="/_next/static/media/moonpay_circles_logo.e911c55c.svg";function us(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var xs=function(e){var t=e.tokens,s=e.tokenSelectedIndex,i=e.tokenAmount,c=e.isOpen,o=void 0!==c&&c,d=e.isEditingAmount,x=void 0!==d&&d,m=e.isTaker,f=void 0!==m&&m,h=e.isMoonpayVisible,g=void 0!==h&&h,b=e.action,y=e.actionClose,j=e.onRemove,v=(0,p.Z)("common").t,N=(0,r.useRef)(!1),w=(0,r.useState)(o),k=w[0],C=w[1],S=(0,r.useState)(i),_=S[0],E=S[1],L=(0,r.useState)(""),T=L[0],M=L[1],I=(0,r.useState)(!1),A=I[0],R=I[1],O=(0,r.useState)(!1),z=O[0],U=O[1],Z=(0,r.useState)(),B=Z[0],P=Z[1],D=(0,r.useState)(s),H=D[0],V=D[1],W=(0,r.useState)(!1),Y=W[0],G=W[1],J=(0,l.T)(),K=(0,l.C)((function(e){return e})).trademodal,$=K.taker,q=K.maker;return(0,r.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]),(0,r.useEffect)((function(){$&&q&&(f&&$.collector&&N.current?M($.collector.address):q.collector&&N.current&&M(q.collector.address))}),[]),(0,n.jsx)(n.Fragment,{children:k&&(0,n.jsx)("div",{className:"".concat(es().overlay," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),children:(0,n.jsxs)("div",{className:"".concat(es().cryptoTokenModal," fixed flex flex-col w-full bg-primary-white z-[20000] rounded-t-[32px] py-[32px] px-[16px] w-full text-center overflow-y-scroll lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-primary-white",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-primary-blue lg:text-xl",children:x?(0,n.jsx)(n.Fragment,{children:v("editAmountLabel")}):(0,n.jsx)(n.Fragment,{children:v("selectedDesiredLabel")})}),(0,n.jsx)("div",{className:"flex w-full justify-center items-center mt-[24px]",children:T&&T.length>0&&(0,n.jsx)(is,{tokenAmount:_,tokens:t,tokenSelectedIndex:H,userAddress:T,placeholder:"0.00",showBalance:!f,onInsufficientFunds:function(){G(!0)},onValueChange:function(e){var t=e.value,s=e.amountBase,n=e.balance,r=e.currentTokenIndex;if(R(!1),s&&n&&t){if(f){if(0===parseFloat(t))return void U(!1)}else if(0===parseFloat(t)||s.gt(n))return void U(!1);E(t),V(r),P(s),U(!0)}else E("0"),U(!1)},alreadyFocused:x,onTokenChange:function(){R(!0)}})})]}),(0,n.jsxs)("div",{className:"flex flex-col mt-[40px] lg:flex-row-reverse lg:justify-between",children:[A?(0,n.jsx)(u.Z,{text:v(x?"saveCapitalizedLabel":"addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"disabled"},className:"mb-[16px] lg:mb-[auto]"}):(0,n.jsx)(n.Fragment,{children:z?(0,n.jsx)(u.Z,{text:v(x?"saveCapitalizedLabel":"addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},className:"mb-[16px] lg:mb-[auto]",onClick:function(){us(b,Function)&&b(),x?f?("ERC20"===t[H].type?J((0,a.xp)({tokenAddress:t[H].address,amount:B?B.toString():"",amountHumanReadable:_})):J((0,a.CO)({type:t[H].type,amount:B?B.toString():"",amountHumanReadable:_})),J((0,a.Gu)())):("ERC20"===t[H].type?J((0,a.$N)({tokenAddress:t[H].address,amount:B?B.toString():"",amountHumanReadable:_})):J((0,a.Qw)({type:t[H].type,amount:B?B.toString():"",amountHumanReadable:_})),J((0,a.Gu)())):(J(f?(0,a.c6)({id:"",type:t[H].type,amount:B?B.toString():"",amountHumanReadable:_,owner:T,collection:{name:t[H].name,statusVerification:t[H].statusVerification,address:t[H].address,imageUrl:t[H].imageUrl,networkId:t[H].networkId,abi:t[H].abi,type:t[H].type,symbol:t[H].symbol},imageSrc:t[H].imageUrl,isApproved:!1,hasPlaceholder:!1}):(0,a.TG)({id:"",type:t[H].type,amount:B?B.toString():"",amountHumanReadable:_,owner:T,collection:{name:t[H].name,statusVerification:t[H].statusVerification,address:t[H].address,imageUrl:t[H].imageUrl,networkId:t[H].networkId,abi:t[H].abi,type:t[H].type,symbol:t[H].symbol},imageSrc:t[H].imageUrl,isApproved:!1,hasPlaceholder:!1})),J((0,a.Gu)())),C(!1)}}):(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:v(x?"saveCapitalizedLabel":"addCapitalizedLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"disabled"},className:"mb-[16px] lg:mb-[auto]"})})}),!x&&!0===g&&Y&&(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{text:v("topUpMoonpayLabel"),type:{class:"primary",icon:!0,hasColoredBg:!1},iconSrc:ds,size:"large",initialState:{state:"default"},className:"ml-[2px] px-[28px]",onClick:function(){J((0,F.gj)(!0))}})}),(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsx)(u.Z,{text:v(x?"cancelLabel":"closeLabel"),type:{class:"secondary",icon:!1,hasColoredBg:!1},size:"large",initialState:{state:"default"},onClick:function(){us(y,Function)&&y(),C(!1)}}),x&&(0,n.jsxs)("div",{className:"flex items-center justify-center mt-[15px] ml-[24px] cursor-pointer",onClick:function(){j&&j(),J((0,a.Gu)())},onMouseEnter:function(e){document.getElementById("trash-icon").src=os;var t=document.getElementById("remove-label");t.classList.add("text-primary-dark-blue"),t.classList.add("underline"),t.classList.remove("text-primary-blue")},onMouseLeave:function(e){document.getElementById("trash-icon").src=cs;var t=document.getElementById("remove-label");t.classList.remove("text-primary-dark-blue"),t.classList.remove("underline"),t.classList.add("text-primary-blue")},children:[(0,n.jsx)("img",{id:"trash-icon",src:cs,className:"w-[16px] mr-[4px]",onMouseEnter:function(e){document.getElementById("trash-icon").src=os;var t=document.getElementById("remove-label");t.classList.add("text-primary-dark-blue"),t.classList.add("underline"),t.classList.remove("text-primary-blue")},onMouseLeave:function(e){document.getElementById("trash-icon").src=cs;var t=document.getElementById("remove-label");t.classList.remove("text-primary-dark-blue"),t.classList.remove("underline"),t.classList.add("text-primary-blue")}}),(0,n.jsx)("span",{id:"remove-label",className:"text-primary-blue text-base font-semibold hover:underline hover:text-primary-dark-blue",onMouseEnter:function(e){document.getElementById("trash-icon").src=os;var t=document.getElementById("remove-label");t.classList.add("text-primary-dark-blue"),t.classList.add("underline"),t.classList.remove("text-primary-blue")},onMouseLeave:function(e){document.getElementById("trash-icon").src=cs;var t=document.getElementById("remove-label");t.classList.remove("text-primary-dark-blue"),t.classList.remove("underline"),t.classList.add("text-primary-blue")},children:v("removeLabel")})]})]})]})]})})})},ms=s(78505),ps=s.n(ms);var fs=function(e){var t=e.isModalOpen,s=e.actionClose,i=e.isTaker,c=void 0!==i&&i,o=e.isMoonpayVisible,d=void 0!==o&&o,u=(0,p.Z)("common").t,x=(0,r.useRef)(!1),m=(0,r.useState)([]),f=m[0],h=m[1],g=(0,r.useState)(""),b=g[0],y=g[1],j=(0,r.useState)(!1),v=j[0],N=j[1],w=(0,r.useState)(0),k=w[0],C=w[1],S=(0,r.useState)(!1),_=S[0],E=S[1],T=(0,r.useState)(0),F=T[0],M=T[1],I=(0,r.useState)(10),R=I[0],O=(I[1],(0,r.useState)(0)),Z=O[0],B=O[1],P=(0,r.useState)(!1),D=P[0],H=P[1],V=(0,r.useState)(!1),W=V[0],Y=V[1],G=(0,l.T)(),J=(0,l.C)((function(e){return e})).waccount.currentNetworkId,Q=function(e){var t=null;t=e&&e.length>0?[J||"1","TKN",F,R,e]:[J||"1","TKN",F,R],(0,K.bf)((0,$.f)(e?"getAssetsQueryString":"getAssets",t)).then((function(e){var t=e.data[0],s=t.rows,n=t.count;x.current&&B(n),0===f.length?x.current&&h(s):x.current&&h(f.concat(s))})).catch((function(e){console.log(e)})),x.current&&E(!1)};return(0,r.useEffect)((function(){return x.current=!0,function(){x.current=!1}}),[]),(0,r.useEffect)((function(){x.current&&(B(0),M(0),h([]),E(!0))}),[b]),(0,r.useEffect)((function(){Z>f.length?x.current&&(M(F+10),H(!0)):x.current&&H(!1)}),[f]),(0,r.useEffect)((function(){_&&Q(b)}),[_]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U,{isOpen:t,actionClose:s,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-lg font-semibold text-center text-primary-blue",children:u("selectDesiredTokenLabel")}),(0,n.jsx)("div",{className:"mt-[24px] text-center",children:(0,n.jsx)(A.Z,{placeholder:"Search token name or address",setFilter:function(e){y(e)}})}),(0,n.jsx)("div",{className:"mt-[48px]",children:(0,n.jsx)(q.Z,{dataLength:f.length,next:Q,hasMore:D,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("img",{src:L.Z.src,className:"".concat(ps().rotating," w-[24px] h-[24px]")})}),scrollableTarget:"scrollable-modal",style:{overflow:"initial"},children:f.map((function(e,t){return(0,n.jsx)(Qt,{tokenName:e.name,tokenImageSrc:e.imageUrl,onClick:function(){C(t),N(!0)},className:"mt-[8px]"},"token-item-".concat(t))}))})}),v&&(0,n.jsx)(xs,{tokens:f,tokenSelectedIndex:k,tokenAmount:"0",isEditingAmount:!1,isTaker:c,isOpen:!0,action:function(){N(!1),G((0,a.eY)(!1))},actionClose:function(){N(!1),G((0,a.eY)(!1))}})]})}),(0,n.jsxs)("div",{className:"".concat(!1===W?"".concat(ps().overlay):""," lg:flex lg:justify-center lg:items-center lg:fixed lg:top-0 lg:left-0 lg:w-full lg:h-full z-[20000]"),children:[(0,n.jsx)("div",{className:"".concat(!0===W&&"hidden"," ").concat(ps().erc20Tokens," fixed flex flex-col w-full bg-primary-white z-[20000] rounded-t-[32px] py-[40px] px-[16px] w-full h-[304px] text-center lg:relative lg:w-[520px] lg:rounded-[16px] lg:h-[auto] lg:p-[32px]"),children:(0,n.jsxs)("section",{className:"hidden lg:block",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-full w-[32px] h-[32px]",children:(0,n.jsx)("img",{src:z.Z.src,className:"w-[26px] h-[26px] cursor-pointer",onClick:function(){var e,t;e=s,(null!=(t=Function)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)&&s()}})}),(0,n.jsx)("h4",{className:"text-xl font-semibold text-primary-blue mt-[16px]",children:u("selectDesiredTokenLabel")})]}),(0,n.jsx)("div",{className:"mt-[40px]",children:(0,n.jsx)(A.Z,{placeholder:u("searchTokenNameAddressLabel"),setFilter:function(e){y(e)}})}),(0,n.jsx)("div",{className:"mt-[40px] max-h-[504px] ".concat(ps().scrollbar," overflow-y-scroll overflow-x-hidden px-[3px]"),id:"collections-scrollable",children:(0,n.jsx)(q.Z,{dataLength:f.length,next:Q,hasMore:!0,loader:(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("img",{src:L.Z.src,className:"".concat(ps().rotating," w-[24px] h-[24px]")})}),scrollableTarget:"collections-scrollable",style:{overflow:"initial"},children:f.map((function(e,t){return(0,n.jsx)(Qt,{tokenName:e.name,tokenImageSrc:e.imageUrl,onClick:function(){C(t),N(!0),Y(!0)},className:"mt-[8px]"},"token-item-".concat(t))}))})})]})}),v&&(0,n.jsx)(xs,{tokens:f,tokenSelectedIndex:k,tokenAmount:"0",isEditingAmount:!1,isTaker:c,isMoonpayVisible:d,isOpen:!0,action:function(){N(!1),G((0,a.eY)(!1))},actionClose:function(){N(!1),G((0,a.eY)(!1))}})]})]})},hs="/_next/static/media/mascotte.b765c862.svg",gs="/_next/static/media/mascotte_points_up.d981d52d.svg",bs=function(e){return e||rt.Z.src},ys=function(e){return!e},js=function(e){var t=e.isCurrent,s=(0,p.Z)("common").t,i=(0,r.useRef)(!1),c=(0,r.useState)(!1),o=c[0],d=c[1],x=(0,r.useState)([]),m=x[0],f=x[1],h=(0,r.useState)(),g=h[0],b=h[1],y=(0,r.useState)("null"),j=y[0],v=y[1],N=(0,r.useState)(1),w=N[0],k=N[1],C=(0,r.useState)(0),_=C[0],E=C[1],L=(0,r.useState)(!1),T=L[0],F=L[1],M=(0,r.useState)(!1),I=M[0],A=M[1],R=(0,r.useState)(),O=R[0],z=R[1],U=(0,r.useState)([]),Z=U[0],P=U[1],D=(0,r.useState)(!1),H=D[0],V=D[1],G=(0,r.useState)([]),J=G[0],q=G[1],Q=(0,l.C)((function(e){return e})),X=Q.trademodal,te=Q.waccount,ne=(0,l.T)(),re=X.isERC20ModalOpen,ae=X.maker,le=te.currentNetworkId,ie=function(e,t){var s,n=ae&&ae.collector?ae.collector.address:"",r=(0,ge.h)(le);s=(0,$.f)("getNftCollectionAssetsByOwner",[r,e.address,n,"50",j]),(0,K.bf)(s).then((function(e){var s=e.data[0],n=(s.response,s.nfts),r=s.continuation,a=s.total;i.current&&(E(a),F(!1)),0===n.length?i.current&&P(n):i.current&&P(Z.concat(n)),!le||le!==S.HL.MAINNET&&le!==S.HL.RINKEBY?!le||le!==S.HL.POLYGON&&le!==S.HL.POLYGON_MUMBAI||a>Z.length&&i.current&&k(w+1):r?i.current&&v(r):i.current&&v("null"),t&&i.current&&t("default")})).catch((function(e){i.current&&F(!1),t&&i.current&&t("default"),console.log(e)}))},ce=function(e,t){return e>0&&t>0?"".concat(e," NFT").concat(e>1?"s":""," + ").concat(t," ").concat(s("cryptoSelectedLabel")):e>0?"".concat(e," NFT").concat(e>1?"s":""," selected"):t>0?"".concat(t," ").concat(s("crypto selected")):"0 NFTs ".concat(s("selectedLabel"))},oe=function(e,t){if(ae&&ae.assets.find((function(s){var n;return s.collection.address.toLowerCase()===t.address.toLowerCase()&&e.tokenId.toLowerCase()===(null===(n=s.id)||void 0===n?void 0:n.toLowerCase())})))return!0;return!1},de=function(e,t){if(ae){var s=ae.assets.find((function(s){var n;return s.collection.address.toLowerCase()===t.address.toLowerCase()&&e.tokenId.toLowerCase()===(null===(n=s.id)||void 0===n?void 0:n.toLowerCase())}));if(s&&s.amount)return s.amount}return"0"};return(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,r.useEffect)((function(){if(o){var e=function(){window.innerWidth>1023&&i.current&&d(!1)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[o]),(0,r.useEffect)((function(){!le||le!==S.HL.MAINNET&&le!==S.HL.RINKEBY?!le||le!==S.HL.POLYGON&&le!==S.HL.POLYGON_MUMBAI||(Z.length<_?i.current&&A(!0):i.current&&A(!1)):"null"!==j?i.current&&A(!0):i.current&&A(!1)}),[j,w]),(0,r.useEffect)((function(){O&&ie(O)}),[O]),(0,r.useEffect)((function(){if(ae&&ae.assets){var e=new Array,t=0;ae.assets.forEach((function(s){"ERC20"===s.type||"NATIVE"===s.type?e.push({text:s.amountHumanReadable?s.amountHumanReadable:"",isDisabled:!1,isEditable:!0,tokenSymbol:s.collection.symbol,icon:s.imageSrc?s.imageSrc:"",asset:s}):t++})),i.current&&(b({text:ce(t,e.length),isDisabled:!(t>0||e.length>0),isEditable:!1,tokenSymbol:"",icon:"",asset:null}),f(e))}}),[null===ae||void 0===ae?void 0:ae.assets]),(0,n.jsx)(se,{isCurrent:t,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"grid grid-cols-12",children:[(0,n.jsx)("div",{className:"hidden bg-primary-white rounded-[16px] lg:block lg:col-span-3 lg:max-h-[732px]",children:(0,n.jsx)(Jt,{isModalOpen:!1,actionClose:function(){},onClickItem:function(e){e.address!=(null===O||void 0===O?void 0:O.address)&&(P([]),!le||le!==S.HL.MAINNET&&le!==S.HL.RINKEBY?!le||le!==S.HL.POLYGON&&le!==S.HL.POLYGON_MUMBAI||k(1):v("null"),F(!0),z(e))}})}),(0,n.jsx)("div",{className:"col-span-12 pt-[30px] lg:pt-0 lg:col-span-9 lg:pl-[32px] lg:min-h-[732px]",children:(0,n.jsx)("div",{className:"w-full lg:min-h-[732px]",children:(0,n.jsxs)("div",{className:"w-full lg:min-h-[732px]",children:[(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row-reverse",children:[ae&&(0,n.jsxs)("div",{className:"flex items-center justify-between lg:items-start lg:flex-row-reverse",children:[(0,n.jsxs)("div",{className:"flex items-center lg:flex-row-reverse",children:[(0,n.jsx)("div",{className:"flex items-center mr-[16px] lg:ml-[16px] lg:mr-[auto]",children:ae&&ae.collector&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W.Z,{address:ae.collector.address,src:ae.collector.imageUrl,isNFT:ae.collector.isNft,sizesClassNames:"w-[24px] h-[24px]",jazziconSize:{defaultSize:24,breakpoints:[],sizes:[]}})})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue",children:s("yourWalletLabel")}),(0,n.jsx)("span",{className:"rubik text-xs font-regular cursor-pointer text-primary-gray",children:ae&&ae.collector&&(0,n.jsx)(ke.Z,{text:(0,Y.x)(ae.collector.address),url:(0,ut.x)(le,ae.collector.address),isCustom:!0,isTargetBlank:!0,customColor:"#979dac",weight:"font-regular",className:"text-xs"})})]})]}),(0,n.jsx)("div",{className:"flex items-center justify-center lg:mr-[16px] lg:h-[44px]"})]}),(0,n.jsx)("div",{className:"mt-[24px] lg:flex-1 lg:mt-[auto]",children:(0,n.jsx)("h3",{className:"text-left text-primary-dark-blue text-2xl font-semibold lg:pr-[30px]",children:s("selectWhatYouWantToOfferLabel")})})]}),(0,n.jsx)("div",{className:"mt-[24px]",children:g&&(0,n.jsx)(Ve,{text:g.text,isDisabled:g.isDisabled,isEditable:g.isEditable})}),(0,n.jsx)("div",{className:"mt-[20px]",children:(0,n.jsx)(Ue,{actionButtonText:s("addTokensLabel"),textEmptyContainer:s("includeCryptoLabel"),onClick:function(){ne((0,a.eY)(!0))},children:m.length>0&&m.map((function(e,t){return(0,n.jsx)(Ve,{text:e.text,isDisabled:e.isDisabled,isEditable:e.isEditable,tokenSymbol:e.tokenSymbol,icon:e.icon,onClick:function(){q(new Array(e.asset)),V(!0)}},"badge-token-".concat(t))}))})}),(0,n.jsx)("div",{className:"mt-[32px] lg:hidden",children:(0,n.jsx)(u.Z,{text:s("filterCollectionsLabel"),type:{class:"primary",icon:!0,hasColoredBg:!1},size:"large",initialState:{state:"default"},iconSrc:Kt,showNotifications:!0,notificationsNumber:function(){if(ae){var e=ae.assets,t=0;return e.forEach((function(e){"ERC721"!==e.type&&"ERC1155"!==e.type||t++})),t}return 0}(),onClick:function(){d(!0)}})}),(0,n.jsx)("div",{className:"mt-[28px]",children:!1===T?(0,n.jsx)(n.Fragment,{children:Z.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid justify-items-center gap-x-[16px] gap-y-[16px] grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-3 x2l:grid-cols-4",children:O&&Z.map((function(e,t){var s,r;return(0,n.jsx)(dt,{NFTSrc:bs(e.cachedFileUrl),NFTId:e.tokenId,standard:O.type,collection:O,address:(null===ae||void 0===ae||null===(s=ae.collector)||void 0===s?void 0:s.address)?null===ae||void 0===ae||null===(r=ae.collector)||void 0===r?void 0:r.address:"",isSelected:oe(e,O),isTaker:!1,amount:de(e,O),hasPlaceholder:ys(e.cachedFileUrl),onClick:function(t,s){var n,r;s?"ERC721"===O.type&&(ne((0,a.TG)({id:e.tokenId,type:O.type,amount:null,amountHumanReadable:null,owner:(null===ae||void 0===ae||null===(n=ae.collector)||void 0===n?void 0:n.address)||"",collection:O,imageSrc:bs(e.cachedFileUrl),isApproved:!1,hasPlaceholder:ys(e.cachedFileUrl)})),ne((0,a.Gu)())):"ERC721"===O.type&&(ne((0,a.iB)({id:e.tokenId,type:O.type,amount:null,amountHumanReadable:null,owner:(null===ae||void 0===ae||null===(r=ae.collector)||void 0===r?void 0:r.address)||"",collection:O,imageSrc:bs(e.cachedFileUrl),isApproved:!1,hasPlaceholder:ys(e.cachedFileUrl)})),ne((0,a.Gu)()))}},"nft-item-".concat(t))}))}),I&&(0,n.jsx)("div",{className:"flex justify-center items-center w-full h-[80px]",children:(0,n.jsx)(u.Z,{text:s("loadMoreLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"small",initialState:{state:"default"},onClick:function(e){O&&ie(O,e),e&&e("loading")}})})]}):(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[500px]",children:(0,n.jsx)("div",{className:"flex flex-col items-center justify-center h-full w-full",children:O?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:B,className:"w-[88px] h-[88px]"}),(0,n.jsx)("div",{className:"text-xl font-semibold text-primary-dark-blue mt-[24px]",children:s("sorryLabel")}),(0,n.jsx)("div",{className:"rubik text-base font-light text-primary-dark-blue mt-[8px]",children:s("noAssetsFoundLabel")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:hs,className:"w-[173px] hidden lg:block"}),(0,n.jsx)("img",{src:gs,className:"w-[173px] block lg:hidden"}),(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue text-center mt-[16px]",children:s("selectCollectionShowNFTsLabel")})]})})})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[500px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})})]})})})]}),o&&(0,n.jsx)(Jt,{isModalOpen:o,actionClose:function(){d(!1)},onClickItem:function(e){e.address!=(null===O||void 0===O?void 0:O.address)&&(P([]),!le||le!==S.HL.MAINNET&&le!==S.HL.RINKEBY?!le||le!==S.HL.POLYGON&&le!==S.HL.POLYGON_MUMBAI||k(1):v("null"),F(!0),z(e))}}),re&&(0,n.jsx)(fs,{isModalOpen:!0,actionClose:function(){ne((0,a.eY)(!1))},isTaker:!1,isMoonpayVisible:!0}),H&&(0,n.jsx)(xs,{tokens:new Array(J[0].collection),tokenSelectedIndex:0,tokenAmount:J[0].amountHumanReadable?J[0].amountHumanReadable:"0",isEditingAmount:!0,isTaker:!1,isOpen:!0,action:function(){V(!1)},actionClose:function(){V(!1)},onRemove:function(){"NATIVE"===J[0].type?ne((0,a.Bd)(J[0])):ne((0,a.TJ)(J[0])),V(!1)}})]})})},vs=function(e){var t,s=e.isCurrent,i=(0,p.Z)("common").t,c=(0,r.useRef)(!1),o=(0,r.useState)(!1),d=o[0],x=o[1],m=(0,r.useState)([]),f=m[0],h=m[1],g=(0,r.useState)(),b=g[0],y=g[1],j=(0,r.useState)("null"),v=j[0],N=j[1],w=(0,r.useState)(1),k=w[0],C=w[1],_=(0,r.useState)(0),E=_[0],L=_[1],T=(0,r.useState)(!1),F=T[0],M=T[1],I=(0,r.useState)(!1),A=I[0],R=I[1],O=(0,r.useState)(),z=O[0],U=O[1],Z=(0,r.useState)([]),G=Z[0],J=Z[1],q=(0,r.useState)(!1),te=q[0],ne=q[1],re=(0,r.useState)([]),ae=re[0],le=re[1],ie=(0,r.useState)([]),ce=ie[0],oe=ie[1],de=(0,r.useState)([]),ue=de[0],xe=de[1],me=(0,l.C)((function(e){return e})),pe=me.trademodal,fe=me.waccount,he=(0,l.T)(),be=pe.isERC20ModalOpen,ye=pe.taker,je=fe.jwtToken,ve=fe.currentNetworkId,Ne=(0,r.useState)((null===ye||void 0===ye||null===(t=ye.collector)||void 0===t?void 0:t.isFavourite)||0),we=(Ne[0],Ne[1]),Ce=function(e){if(e&&"response"in e&&"undefined"!==typeof e.response){var t=e.response.status;401===t?(he((0,a.jO)()),he((0,a.r$)(!1)),he((0,Q.up)(!0)),he((0,Q.kt)()),(0,X.uM)({account:null,isConnected:!1,currentNetworkId:null,currentNetworkName:null,nonce:null,username:null,email:null,firstLogin:null,createdAt:null,updatedAt:null,jwtToken:null,walletProviderName:null,walletProviderIconURL:null,avatarUrl:null,isNFT:0,isVerified:0,sessionExpired:!1})):500===t&&(console.log("backend error.."),console.error(e))}else console.error(e)},Se=function(e,t){var s,n=ye&&ye.collector?ye.collector.address:"",r=(0,ge.h)(ve);s=(0,$.f)("getNftCollectionAssetsByOwner",[r,e.address,n,"50",v]),(0,K.bf)(s).then((function(e){var s=e.data[0],n=(s.response,s.nfts),r=s.continuation,a=s.total;c.current&&(L(a),M(!1)),0===n.length?c.current&&J(n):c.current&&J(G.concat(n)),!ve||ve!==S.HL.MAINNET&&ve!==S.HL.RINKEBY?!ve||ve!==S.HL.POLYGON&&ve!==S.HL.POLYGON_MUMBAI||a>G.length&&c.current&&C(k+1):r?c.current&&N(r):c.current&&N("null"),t&&c.current&&t("default")})).catch((function(e){c.current&&M(!1),t&&c.current&&t("default"),console.log(e)}))},_e=function(e,t){return e>0&&t>0?"".concat(e," NFT").concat(e>1?"s":""," + ").concat(t," ").concat(i("cryptoSelectedLabel")):e>0?"".concat(e," NFT").concat(e>1?"s":""," selected"):t>0?"".concat(t," ").concat(i("cryptoSelectedLabel")):"0 NFTs ".concat(i("selectedLabel"))},Ee=function(e,t){if(ye&&ye.assets.find((function(s){var n;return s.collection.address.toLowerCase()===t.address.toLowerCase()&&e.tokenId.toLowerCase()===(null===(n=s.id)||void 0===n?void 0:n.toLowerCase())})))return!0;return!1},Le=function(e,t){if(ye){var s=ye.assets.find((function(s){var n;return s.collection.address.toLowerCase()===t.address.toLowerCase()&&e.tokenId.toLowerCase()===(null===(n=s.id)||void 0===n?void 0:n.toLowerCase())}));if(s&&s.amount)return s.amount}return"0"};return(0,r.useEffect)((function(){return c.current=!0,function(){c.current=!1}}),[]),(0,r.useEffect)((function(){if(d){var e=function(){window.innerWidth>1023&&c.current&&x(!1)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[d]),(0,r.useEffect)((function(){!ve||ve!==S.HL.MAINNET&&ve!==S.HL.RINKEBY?!ve||ve!==S.HL.POLYGON&&ve!==S.HL.POLYGON_MUMBAI||(G.length<E?c.current&&R(!0):c.current&&R(!1)):"null"!==v?c.current&&R(!0):c.current&&R(!1)}),[v,k]),(0,r.useEffect)((function(){z&&Se(z)}),[z]),(0,r.useEffect)((function(){if(ye&&ye.assets){var e=new Array,t=0;ye.assets.forEach((function(s){"ERC20"===s.type||"NATIVE"===s.type?e.push({text:s.amountHumanReadable?s.amountHumanReadable:"",isDisabled:!1,isEditable:!0,tokenSymbol:s.collection.symbol,icon:s.imageSrc?s.imageSrc:"",asset:s}):t++})),c.current&&(y({text:_e(t,e.length),isDisabled:!(t>0||e.length>0),isEditable:!1,tokenSymbol:"",icon:"",asset:null}),h(e))}}),[null===ye||void 0===ye?void 0:ye.assets]),(0,n.jsx)(se,{isCurrent:s,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"grid grid-cols-12",children:[(0,n.jsx)("div",{className:"hidden bg-primary-white rounded-[16px] lg:block lg:col-span-3 lg:max-h-[732px]",children:(0,n.jsx)(Jt,{isModalOpen:!1,actionClose:function(){},onClickItem:function(e){e.address!=(null===z||void 0===z?void 0:z.address)&&(J([]),!ve||ve!==S.HL.MAINNET&&ve!==S.HL.RINKEBY?!ve||ve!==S.HL.POLYGON&&ve!==S.HL.POLYGON_MUMBAI||C(1):N("null"),M(!0),U(e))}})}),(0,n.jsx)("div",{className:"col-span-12 pt-[30px] lg:pt-0 lg:col-span-9 lg:pl-[32px] lg:min-h-[732px]",children:(0,n.jsx)("div",{className:"w-full lg:min-h-[732px]",children:(0,n.jsxs)("div",{className:"w-full bg-primary-white lg:min-h-[732px]",children:[(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row-reverse",children:[ye&&(0,n.jsxs)("div",{className:"flex items-center justify-between lg:items-start lg:flex-row-reverse",children:[(0,n.jsxs)("div",{className:"flex items-center lg:flex-row-reverse",children:[(0,n.jsx)("div",{className:"flex items-center mr-[16px] lg:ml-[16px] lg:mr-[auto]",children:ye&&ye.collector&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W.Z,{address:ye.collector.address,src:ye.collector.imageUrl,isNFT:ye.collector.isNft,sizesClassNames:"w-[24px] h-[24px]",jazziconSize:{defaultSize:24,breakpoints:[],sizes:[]}})})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-base font-semibold text-primary-dark-blue",children:ye&&ye.collector&&(0,n.jsx)(n.Fragment,{children:ye.collector.username?"@".concat(ye.collector.username):(0,n.jsx)("span",{className:"text-primary-gray rubik text-xs",children:i("usernameNotSetLabel")})})}),(0,n.jsx)("span",{className:"rubik text-xs font-regular cursor-pointer",children:ye&&ye.collector&&(0,n.jsx)(ke.Z,{text:(0,Y.x)(ye.collector.address),url:(0,ut.x)(ve,ye.collector.address),isCustom:!0,isTargetBlank:!0,customColor:"#979dac",weight:"font-regular",className:"text-xs"})})]})]}),(0,n.jsx)("div",{className:"flex items-center justify-center lg:mr-[16px] lg:h-[44px]",children:(0,n.jsx)("div",{className:"flex items-center justify-center w-[24px] h-[24px]",children:ye&&ye.collector&&(0,n.jsx)(n.Fragment,{children:1===ye.collector.isFavourite?(0,n.jsx)("img",{src:P,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(e){var t,s;e.stopPropagation(),s=(null===(t=ye.collector)||void 0===t?void 0:t.address)||"",ue.indexOf(s)>-1||ve&&je&&(xe(ue.concat([s])),(0,K.U3)((0,$.f)("deleteFavouriteUser"),{networkId:ve.toString(),userFavourite:s},je).then((function(e){var t=JSON.parse(JSON.stringify(ue));t=t.splice(t.indexOf(s),1),c.current&&(xe(t),we(0)),he((0,a.YB)(0))})).catch((function(e){var t=JSON.parse(JSON.stringify(ue));t=t.splice(t.indexOf(s),1),c.current&&xe(t),Ce(e)})))},onMouseEnter:function(e){e.target.src=H},onMouseLeave:function(e){e.target.src=P}}):(0,n.jsx)("img",{src:D,className:"w-[16px] h-[16px] cursor-pointer",onClick:function(e){var t,s;e.stopPropagation(),s=(null===(t=ye.collector)||void 0===t?void 0:t.address)||"",ce.indexOf(s)>-1||ve&&je&&(oe(ce.concat([s])),(0,K.jl)((0,$.f)("addFavouriteUser"),{networkId:ve.toString(),userFavourite:s},je).then((function(e){var t=JSON.parse(JSON.stringify(ce));t=t.splice(t.indexOf(s),1),c.current&&(oe(t),we(1)),he((0,a.YB)(1))})).catch((function(e){var t=JSON.parse(JSON.stringify(ce));t=t.splice(t.indexOf(s),1),c.current&&oe(t),Ce(e)})))},onMouseEnter:function(e){e.target.src=V},onMouseLeave:function(e){e.target.src=D}})})})})]}),(0,n.jsx)("div",{className:"mt-[24px] lg:flex-1 lg:mt-[auto]",children:(0,n.jsx)("h3",{className:"text-primary-dark-blue text-2xl font-semibold lg:pr-[30px] lg:w-[500px] lg:text-left ",children:i("selectNFTsFromCounterpartyCollectionLabel")})})]}),(0,n.jsx)("div",{className:"mt-[24px]",children:b&&(0,n.jsx)(Ve,{text:b.text,isDisabled:b.isDisabled,isEditable:b.isEditable})}),(0,n.jsx)("div",{className:"mt-[20px]",children:(0,n.jsx)(Ue,{actionButtonText:i("addTokensLabel"),textEmptyContainer:i("includeCryptoLabel"),onClick:function(){he((0,a.eY)(!0))},children:f.length>0&&f.map((function(e,t){return(0,n.jsx)(Ve,{text:e.text,isDisabled:e.isDisabled,isEditable:e.isEditable,tokenSymbol:e.tokenSymbol,icon:e.icon,onClick:function(){le(new Array(e.asset)),ne(!0)}},"badge-token-".concat(t))}))})}),(0,n.jsx)("div",{className:"mt-[32px] lg:hidden",children:(0,n.jsx)(u.Z,{text:i("filterCollectionsLabel"),type:{class:"primary",icon:!0,hasColoredBg:!1},size:"large",initialState:{state:"default"},iconSrc:Kt,showNotifications:!0,notificationsNumber:function(){if(ye){var e=ye.assets,t=0;return e.forEach((function(e){"ERC721"!==e.type&&"ERC1155"!==e.type||t++})),t}return 0}(),onClick:function(){x(!0)}})}),(0,n.jsx)("div",{className:"mt-[28px]",children:!1===F?(0,n.jsx)(n.Fragment,{children:G.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid justify-items-center gap-x-[16px] gap-y-[16px] grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-3 xl:grid-cols-3 x2l:grid-cols-4",children:z&&G.map((function(e,t){var s,r;return(0,n.jsx)(dt,{NFTSrc:bs(e.cachedFileUrl),NFTId:e.tokenId,standard:z.type,collection:z,address:(null===ye||void 0===ye||null===(s=ye.collector)||void 0===s?void 0:s.address)?null===ye||void 0===ye||null===(r=ye.collector)||void 0===r?void 0:r.address:"",isSelected:Ee(e,z),isTaker:!0,amount:Le(e,z),hasPlaceholder:ys(e.cachedFileUrl),onClick:function(t,s){var n,r;s?"ERC721"===z.type&&(he((0,a.c6)({id:e.tokenId,type:z.type,amount:null,amountHumanReadable:null,owner:(null===ye||void 0===ye||null===(n=ye.collector)||void 0===n?void 0:n.address)||"",collection:z,imageSrc:bs(e.cachedFileUrl),isApproved:!1,hasPlaceholder:ys(e.cachedFileUrl)})),he((0,a.Gu)())):"ERC721"===z.type&&(he((0,a.E4)({id:e.tokenId,type:z.type,amount:null,amountHumanReadable:null,owner:(null===ye||void 0===ye||null===(r=ye.collector)||void 0===r?void 0:r.address)||"",collection:z,imageSrc:bs(e.cachedFileUrl),isApproved:!1,hasPlaceholder:ys(e.cachedFileUrl)})),he((0,a.Gu)()))}},"nft-item-".concat(t))}))}),A&&(0,n.jsx)("div",{className:"flex justify-center items-center w-full h-[80px]",children:(0,n.jsx)(u.Z,{text:i("loadMoreLabel"),type:{class:"primary",icon:!1,hasColoredBg:!1},size:"small",initialState:{state:"default"},onClick:function(e){z&&Se(z,e),e&&e("loading")}})})]}):(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[500px]",children:(0,n.jsx)("div",{className:"flex flex-col items-center justify-center h-full w-full",children:z?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:B,className:"w-[88px] h-[88px]"}),(0,n.jsx)("div",{className:"text-xl font-semibold text-primary-dark-blue mt-[24px]",children:i("sorryLabel")}),(0,n.jsx)("div",{className:"rubik text-base font-light text-primary-dark-blue mt-[8px]",children:i("noAssetsFoundLabel")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:hs,className:"w-[173px] hidden lg:block"}),(0,n.jsx)("img",{src:gs,className:"w-[173px] block lg:hidden"}),(0,n.jsx)("span",{className:"text-base font-regular text-primary-dark-blue text-center mt-[16px]",children:i("selectCollectionShowCounterpartyNFTsLabel")})]})})})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-[500px]",children:(0,n.jsx)(ee.Z,{isWhite:!1,className:"w-[30px] h-[30px]"})})})})]})})})]}),d&&(0,n.jsx)(Jt,{isModalOpen:d,actionClose:function(){x(!1)},onClickItem:function(e){e.address!=(null===z||void 0===z?void 0:z.address)&&(J([]),!ve||ve!==S.HL.MAINNET&&ve!==S.HL.RINKEBY?!ve||ve!==S.HL.POLYGON&&ve!==S.HL.POLYGON_MUMBAI||C(1):N("null"),M(!0),U(e))}}),be&&(0,n.jsx)(fs,{isModalOpen:!0,actionClose:function(){he((0,a.eY)(!1))},isTaker:!0}),te&&(0,n.jsx)(xs,{tokens:new Array(ae[0].collection),tokenSelectedIndex:0,tokenAmount:ae[0].amountHumanReadable?ae[0].amountHumanReadable:"0",isEditingAmount:!0,isTaker:!0,isOpen:!0,action:function(){ne(!1)},actionClose:function(){ne(!1)},onRemove:function(){"NATIVE"===ae[0].type?he((0,a.sX)(ae[0])):he((0,a.zs)(ae[0])),ne(!1)}})]})})},Ns=s(56355),ws=s.n(Ns),ks=function(e){var t=e.onOpen,s=e.onClose,c=(0,p.Z)("common").t,o=(0,l.C)((function(e){return e})),d=o.trademodal,u=o.waccount,x=(0,l.T)(),m=d.stepperMenuSteps,f=d.currentStepMenu,h=d.isDeleteTradeModalOpen,g=d.maker,b=d.taker,y=d.who,j=d.mode,v=d.swapId,N=u.isConnected,k=u.currentNetworkId,_=m.map((function(e){return{stepDescription:e.stepDescription,isCompleted:e.isCompleted,isCurrent:e.isCurrent,onClick:function(){}}})),L=(0,C.Ge)().library,T=function(){document.body.classList.remove("no-scroll"),x((0,a.jO)()),x((0,a.r$)(!1))};return(0,r.useEffect)((function(){N||T()}),[N]),(0,r.useEffect)((function(){if(null!==y||null!==j)if(null!==y||"EDIT_TAKER"!==j){if("VIEW_MAKER"!==j){var e=u.account,n=u.username,r=u.avatarUrl,l=u.isNFT,i=u.isVerified,c={evmNetworkId:k||1,username:n||"",address:e||"",imageUrl:r||"",isNft:l,isVerified:i};return"maker"===y&&x((0,a.jO)()),x("maker"===y?(0,a.M7)(c):(0,a.Bu)(c)),t&&t(),function(){s&&s()}}t&&t()}else t&&t()}),[]),(0,r.useEffect)((function(){v&&k&&new(E())({ethers:w,web3Provider:L,network:(0,S.qe)(k).toUpperCase()}).getSwapDetails(v).then((function(e){var t=e.status;2!==t&&1!==t||(T(),x((0,a.vg)(null)),x((0,a.eV)(null)))})).catch((function(e){console.error(e)}))}),[v,k]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex justify-center items-center fixed top-0 left-0 w-full h-full z-[10000]",children:(0,n.jsxs)("div",{className:"".concat(ws().tradeModal," relative w-full h-full ").concat(f<4?"bg-primary-white":4===f?"bg-primary-white lg:bg-primary-white":"bg-primary-blue lg:bg-primary-blue"," ").concat("TAKER_UPDATED"===j&&"bg-primary-blue lg:bg-primary-blue"),children:[f<=4&&null===j&&(0,n.jsx)(I,{stepperItems:_}),"EDIT_TAKER"===j&&(0,n.jsx)(I,{mode:"EDIT_TAKER"}),"VIEW_MAKER"===j&&(0,n.jsx)(I,{mode:"VIEW_MAKER"}),(0,n.jsx)("section",{className:"".concat(f<=4?ws().mainSection:ws().fullSection," ").concat(f<4?"bg-primary-white":4===f?"bg-primary-white lg:bg-primary-white":"bg-primary-blue lg:bg-primary-blue"," overflow-y-scroll ").concat("TAKER_UPDATED"===j&&"bg-primary-blue lg:bg-primary-blue"),children:(0,n.jsxs)("div",{className:"".concat(f<5?"px-[16px] lg:p-[48px]":"flex items-center justify-center h-full"),children:[0===f&&null===j&&(0,n.jsx)(_t,{isCurrent:!0}),1===f&&null===j&&(0,n.jsx)(vs,{isCurrent:!0}),2===f&&null===j&&(0,n.jsx)(js,{isCurrent:!0}),3===f&&null===j&&g&&b&&(0,n.jsx)(n.Fragment,{children:"maker"===y?(0,n.jsx)(kt,{isCurrent:!0,left:g,right:b}):(0,n.jsx)(kt,{isCurrent:!0,left:b,right:g})}),3===f&&"VIEW_MAKER"===j&&g&&b&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(kt,{isCurrent:!0,left:g,right:b})}),4===f&&null===j&&g&&b&&(0,n.jsx)(Ce,{isCurrent:!0}),5===f&&null===j&&(0,n.jsx)(Tt,{isCurrent:!0}),"EDIT_TAKER"===j&&(0,n.jsx)(le,{isCurrent:!0}),"TAKER_UPDATED"===j&&(0,n.jsx)(Ft,{isCurrent:!0})]})})]})}),h&&(0,n.jsx)(i.Z,{modalTitle:"maker"===y?null===j?c("cancelTradeLabel"):"".concat(c("goBackTradeHubLabel"),"?"):null===j?"".concat(c("goBackTradeHubLabel"),"?"):c("closeWindowLabel"),modalDescription:c("maker"===y?null===j?"cancelCurrentChoiceLabel":"youCanReturnLaterLabel":null===j?"youCanReturnLaterLabel":"youCanChangeCounterpartyLabel"),action:function(){T(),x((0,a.xI)(!1)),x((0,a.eV)(null)),x((0,a.vg)(null))},actionClose:function(){x((0,a.xI)(!1))},buttonsText:[c("maker"===y&&null===j?"yesCancelItLabel":"goBackTradeHubLabel"),c("dismissLabel")],isOpen:!0})]})}},64978:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function differenceBetweenDates(pastDateTimestamp,futureDateTimestamp){var d=new Date(futureDateTimestamp).valueOf()-new Date(pastDateTimestamp).valueOf(),weekdays=Math.floor(d/1e3/60/60/24/7),days=Math.floor(d/1e3/60/60/24-7*weekdays),hours=Math.floor(d/1e3/60/60-7*weekdays*24-24*days),minutes=Math.floor(d/1e3/60-7*weekdays*24*60-24*days*60-60*hours),seconds=Math.floor(d/1e3-7*weekdays*24*60*60-24*days*60*60-60*hours*60-60*minutes),milliseconds=Math.floor(d-7*weekdays*24*60*60*1e3-24*days*60*60*1e3-60*hours*60*1e3-60*minutes*1e3-1e3*seconds),t={};return["weekdays","days","hours","minutes","seconds","milliseconds"].forEach((function(q){eval(q)>0&&(t[q]=eval(q))})),t}__webpack_require__.d(__webpack_exports__,{t:function(){return differenceBetweenDates}})},44105:function(e,t,s){"use strict";s.d(t,{i:function(){return n}});var n=function(e){return-1===e.indexOf("https://")&&-1===e.indexOf("http://")?e.indexOf("ipfs://")>-1?"https://ipfs.io/ipfs/".concat(e.replace("ipfs://","")):-1===e.indexOf("_next/static")?"https://ipfs.io/ipfs/".concat(e):e:e}},73602:function(e){e.exports={bubbleMessage:"BubbleMessage_bubbleMessage__MssRj"}},68532:function(e){e.exports={bubble:"CompromisedAssetIcon_bubble__tfeP6"}},66599:function(e){e.exports={mobileModal:"MobileModal_mobileModal__9TCKt",goUp:"MobileModal_goUp__MU_zd"}},19028:function(e){e.exports={rotating:"Badge_rotating__BZ31M",rotate:"Badge_rotate__VZGaR"}},65643:function(e){e.exports={erc20Row:"ERC20ListItem_erc20Row__ioYL2"}},84165:function(e){e.exports={rotating:"ImageCollection_rotating__1yoTQ",rotate:"ImageCollection_rotate__uKYaf"}},55559:function(e){e.exports={insideBorder:"TimeCursor_insideBorder__sdpYE",fade:"TimeCursor_fade__QH9ne"}},77832:function(e){e.exports={actionModal:"ActionModal_actionModal__rLL29",goUp:"ActionModal_goUp__bu19u",overlay:"ActionModal_overlay__uWRIX",zoom:"ActionModal_zoom__qBUeK"}},83536:function(e){e.exports={cryptoBar:"CryptoInputBar_cryptoBar__b6Cg0",cryptoBarFocus:"CryptoInputBar_cryptoBarFocus__3eazR",full_width:"CryptoInputBar_full_width__JTjvL"}},83885:function(e){e.exports={erc1155AmountModal:"ERC1155AmountModal_erc1155AmountModal__uOZ_e",goUp:"ERC1155AmountModal_goUp__8_IIl",overlay:"ERC1155AmountModal_overlay__hVAt2",zoom:"ERC1155AmountModal_zoom__ys3EV"}},81538:function(e){e.exports={rotating:"NFTItem_rotating__6PHBK",rotate:"NFTItem_rotate___FbFN"}},18255:function(e){e.exports={selectableBadge:"SelectableBadge_selectableBadge__7PjPs"}},306:function(e){e.exports={approvingModal:"ApprovingModal_approvingModal__gcZyi",goUp:"ApprovingModal_goUp__e_33K",goUpButton:"ApprovingModal_goUpButton__b4Fqw",overlay:"ApprovingModal_overlay__w7Ge3",zoom:"ApprovingModal_zoom__x3dlv"}},57232:function(e){e.exports={keepVerDistance:"BadgeContainer_keepVerDistance__RW0Tz",keepHozDistance:"BadgeContainer_keepHozDistance__8PlPr"}},24491:function(e){e.exports={collectionRow:"CollectionRow_collectionRow__bJuZz",checkBox:"CollectionRow_checkBox__OD7UM"}},76293:function(e){e.exports={cryptoTokenModal:"CryptoTokenModal_cryptoTokenModal__18BV7",goUp:"CryptoTokenModal_goUp__HW9PO",overlay:"CryptoTokenModal_overlay__EBuzr",zoom:"CryptoTokenModal_zoom__BSgZf"}},35017:function(e){e.exports={customCollectionModal:"CustomCollectionModal_customCollectionModal__mdwx_",goUp:"CustomCollectionModal_goUp__HaAeT",overlay:"CustomCollectionModal_overlay__cMIBg",zoom:"CustomCollectionModal_zoom___fvs_"}},28023:function(e){e.exports={paymentModal:"PaymentModal_paymentModal__XGzY3",goUp:"PaymentModal_goUp__NNrfU",rotating:"PaymentModal_rotating__BTaYA",rotate:"PaymentModal_rotate__ZtGvE",overlay:"PaymentModal_overlay__XgFnn",zoom:"PaymentModal_zoom__PRRfC"}},5995:function(e){e.exports={stepperMenu:"StepperMenu_stepperMenu__tNMDj",translate:"StepperMenu_translate__e_s81",rotating:"StepperMenu_rotating__FYV7e",rotate:"StepperMenu_rotate__LCKpj"}},1259:function(e){e.exports={stepperMenuList:"StepperMenuList_stepperMenuList__brjD2",goUp:"StepperMenuList_goUp__Flw4m",mainContent:"StepperMenuList_mainContent__Esq9f"}},40692:function(e){e.exports={unverifiedCollectionModal:"UnverifiedCollectionModal_unverifiedCollectionModal__0jw1d",goUp:"UnverifiedCollectionModal_goUp__R7j8I",goUpButton:"UnverifiedCollectionModal_goUpButton__TZnUk",overlay:"UnverifiedCollectionModal_overlay__RkTr_",zoom:"UnverifiedCollectionModal_zoom__ODnTJ"}},7637:function(e){e.exports={scrollbar:"Collections_scrollbar__Qpc8Y",rotating:"Collections_rotating__V7RpZ",rotate:"Collections_rotate__lSfOw"}},78505:function(e){e.exports={scrollbar:"ERC20Tokens_scrollbar__fv_IJ",rotating:"ERC20Tokens_rotating__7KqBj",rotate:"ERC20Tokens_rotate__HCDOR",overlay:"ERC20Tokens_overlay__HNZQS",erc20Tokens:"ERC20Tokens_erc20Tokens__VsVZ_",zoom:"ERC20Tokens_zoom__b6JS_"}},78561:function(e){e.exports={scrollbar:"Favourites_scrollbar__16Y8i",rotating:"Favourites_rotating__eMdHE",rotate:"Favourites_rotate__NqsLO"}},47606:function(e){e.exports={rotating:"PageFive_rotating__Ay2Lf",rotate:"PageFive_rotate__wfnLb"}},56355:function(e){e.exports={overlay:"TradeModal_overlay__swD2E",tradeModal:"TradeModal_tradeModal__W1lDh",zoom:"TradeModal_zoom__2ue_S",fullSection:"TradeModal_fullSection__NO59U",mainSection:"TradeModal_mainSection__FOzBg"}}}]);